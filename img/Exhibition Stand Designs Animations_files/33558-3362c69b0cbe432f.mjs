(self.modernJsonp=self.modernJsonp||[]).push([["33558"],{108679:function(e,t,r){var n=r(121296),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};function s(e){return n.isMemo(e)?i:l[e.$$typeof]||a}l[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l[n.Memo]=i;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,_=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,r,n){if("string"!=typeof r){if(p){var a=_(r);a&&a!==p&&e(t,a,n)}var i=u(r);d&&(i=i.concat(d(r)));for(var l=s(t),h=s(r),m=0;m<i.length;++m){var g=i[m];if(!o[g]&&!(n&&n[g])&&!(h&&h[g])&&!(l&&l[g])){var b=f(r,g);try{c(t,g,b)}catch(e){}}}}return t}},396103:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,i=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,s=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,u=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,f=r?Symbol.for("react.forward_ref"):60112,_=r?Symbol.for("react.suspense"):60113,p=r?Symbol.for("react.memo"):60115,h=r?Symbol.for("react.lazy"):60116;function m(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case u:case d:case o:case l:case i:case _:return e;default:switch(e=e&&e.$$typeof){case c:case f:case s:return e;default:return t}}case h:case p:case a:return t}}}function g(e){return m(e)===d}t.typeOf=m,t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=s,t.Element=n,t.ForwardRef=f,t.Fragment=o,t.Lazy=h,t.Memo=p,t.Portal=a,t.Profiler=l,t.StrictMode=i,t.Suspense=_,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===d||e===l||e===i||e===_||"object"==typeof e&&null!==e&&(e.$$typeof===h||e.$$typeof===p||e.$$typeof===s||e.$$typeof===c||e.$$typeof===f)},t.isAsyncMode=function(e){return g(e)||m(e)===u},t.isConcurrentMode=g,t.isContextConsumer=function(e){return m(e)===c},t.isContextProvider=function(e){return m(e)===s},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return m(e)===f},t.isFragment=function(e){return m(e)===o},t.isLazy=function(e){return m(e)===h},t.isMemo=function(e){return m(e)===p},t.isPortal=function(e){return m(e)===a},t.isProfiler=function(e){return m(e)===l},t.isStrictMode=function(e){return m(e)===i},t.isSuspense=function(e){return m(e)===_}},121296:function(e,t,r){e.exports=r(396103)},892703:function(e,t,r){var n=r(150414);function a(){}e.exports=function(){function e(e,t,r,a,o,i){if(i!==n){var l=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return r.checkPropTypes=a,r.PropTypes=r,r}},45697:function(e,t,r){e.exports=r(892703)()},150414:function(e){e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},869921:function(e,t){var r="function"==typeof Symbol&&Symbol.for;r&&Symbol.for("react.element"),r&&Symbol.for("react.portal"),r&&Symbol.for("react.fragment"),r&&Symbol.for("react.strict_mode"),r&&Symbol.for("react.profiler"),r&&Symbol.for("react.provider"),r&&Symbol.for("react.context"),r&&Symbol.for("react.async_mode"),r&&Symbol.for("react.concurrent_mode"),r&&Symbol.for("react.forward_ref"),r&&Symbol.for("react.suspense"),r&&Symbol.for("react.suspense_list"),r&&Symbol.for("react.memo"),r&&Symbol.for("react.lazy"),r&&Symbol.for("react.block"),r&&Symbol.for("react.fundamental"),r&&Symbol.for("react.responder"),r&&Symbol.for("react.scope")},659864:function(e,t,r){r(869921)},78273:function(e,t,r){function n(e){return"/"===e.charAt(0)}function a(e,t){for(var r=t,n=r+1,a=e.length;n<a;r+=1,n+=1)e[r]=e[n];e.pop()}r.d(t,{Z:()=>o});let o=function(e,t){void 0===t&&(t="");var r,o=e&&e.split("/")||[],i=t&&t.split("/")||[],l=e&&n(e),s=t&&n(t),c=l||s;if(e&&n(e)?i=o:o.length&&(i.pop(),i=i.concat(o)),!i.length)return"/";if(i.length){var u=i[i.length-1];r="."===u||".."===u||""===u}else r=!1;for(var d=0,f=i.length;f>=0;f--){var _=i[f];"."===_?a(i,f):".."===_?(a(i,f),d++):d&&(a(i,f),d--)}if(!c)for(;d--;)i.unshift("..");!c||""===i[0]||i[0]&&n(i[0])||i.unshift("");var p=i.join("/");return r&&"/"!==p.substr(-1)&&(p+="/"),p}},17314:function(e,t,r){r.d(t,{Z:()=>c});var n,a,o=r(813653),i=r(831423),l=0,s=0;let c=function(e,t,r){var c=t&&r||0,u=t||Array(16),d=(e=e||{}).node||n,f=void 0!==e.clockseq?e.clockseq:a;if(null==d||null==f){var _=e.random||(e.rng||o.Z)();null==d&&(d=n=[1|_[0],_[1],_[2],_[3],_[4],_[5]]),null==f&&(f=a=(_[6]<<8|_[7])&16383)}var p=void 0!==e.msecs?e.msecs:Date.now(),h=void 0!==e.nsecs?e.nsecs:s+1,m=p-l+(h-s)/1e4;if(m<0&&void 0===e.clockseq&&(f=f+1&16383),(m<0||p>l)&&void 0===e.nsecs&&(h=0),h>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");l=p,s=h,a=f;var g=((0xfffffff&(p+=122192928e5))*1e4+h)%0x100000000;u[c++]=g>>>24&255,u[c++]=g>>>16&255,u[c++]=g>>>8&255,u[c++]=255&g;var b=p/0x100000000*1e4&0xfffffff;u[c++]=b>>>8&255,u[c++]=255&b,u[c++]=b>>>24&15|16,u[c++]=b>>>16&255,u[c++]=f>>>8|128,u[c++]=255&f;for(var y=0;y<6;++y)u[c+y]=d[y];return t||(0,i.Z)(u)}},53713:function(e,t,r){r.r(t),r.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DrawerImageGroup_board",selections:[{args:null,kind:"FragmentSpread",name:"SendBoardButton_board"}],type:"Board",abstractKey:null};n.hash="0e2c441822700a6145ea7cd142c0425b";let a=n},943751:function(e,t,r){r.r(t),r.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DrawerImageGroup_coverPin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null}],type:"CoverPin",abstractKey:null};n.hash="35b139c2e951baaa6624b30e45f913ce";let a=n},453217:function(e,t,r){var n;r.r(t),r.d(t,{default:()=>o});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FollowButton_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:n,storageKey:null}],type:"Pin",abstractKey:null};a.hash="cabaa35ed7d59dee006897bf3ef32e3d";let o=a},413044:function(e,t,r){r.r(t),r.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SendBoardButton_board",selections:[{args:null,kind:"FragmentSpread",name:"SendBoardFlyout_board"}],type:"Board",abstractKey:null};n.hash="8d95294efe15498023c69669c6a41e71";let a=n},954881:function(e,t,r){r.r(t),r.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SendBoardFlyout_board",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null}],type:"Board",abstractKey:null};n.hash="f459445ee8d1ea0db022e490ef5a2e80";let a=n},64219:function(e,t,r){r.r(t),r.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnifiedPinRepDefaultPinRep_parentPin",selections:[{args:null,kind:"FragmentSpread",name:"PinRep_parentPin"}],type:"Pin",abstractKey:null};n.hash="cb2594cad81be6eec825977b7bcb2003";let a=n},268047:function(e,t,r){var n;r.r(t),r.d(t,{default:()=>o});let a={argumentDefinitions:[{kind:"RootArgument",name:"isCloseupRelatedModulesFeedQuery"},{defaultValue:!1,kind:"LocalArgument",name:"shouldShowSeoDrawerOption"},{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"UnifiedPinRepDefaultPinRep_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:n=[{args:null,kind:"FragmentSpread",name:"PinRepInner_board"}],storageKey:null},{condition:"isCloseupRelatedModulesFeedQuery",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:n,storageKey:null}]},{args:[{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"shouldShowSeoDrawerOption"},{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"PinRep_pin"}],type:"Pin",abstractKey:null};a.hash="4706485911e34fec99070a2a4c272d94";let o=a},128851:function(e,t,r){r.r(t),r.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnifiedPinRepVariant_parentPin",selections:[{args:null,kind:"FragmentSpread",name:"UnifiedPinRepDefaultPinRep_parentPin"}],type:"Pin",abstractKey:null};n.hash="970c9e8a0b93cdd43095e6934563c7eb";let a=n},748100:function(e,t,r){r.r(t),r.d(t,{default:()=>a});let n={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"shouldShowSeoDrawerOption"},{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"UnifiedPinRepVariant_pin",selections:[{args:[{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"shouldShowSeoDrawerOption"},{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"UnifiedPinRepDefaultPinRep_pin"}],type:"Pin",abstractKey:null};n.hash="cf7ae619f5ec8cf58cf3302e69136b1d";let a=n},46354:function(e,t,r){r.r(t),r.d(t,{default:()=>a});let n={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"shouldShowSeoDrawerOption"},{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"UnifiedPinRep_pin",selections:[{args:[{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"shouldShowSeoDrawerOption"},{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"UnifiedPinRepDefaultPinRep_pin"}],type:"Pin",abstractKey:null};n.hash="bb4e0fc2e1a319a6b7c65cb9ad5c8cb6";let a=n},978917:function(e,t,r){r.r(t),r.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VisualSearchMasonryGrid_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"Pin",abstractKey:null};n.hash="4998effb3bbd67a125c188d857131114";let a=n},185420:function(e,t,r){r.d(t,{M:()=>f,Z:()=>_});var n=r(686659),a=r(667294),o=r(312048),i=r(740097),l=r(104811),s=r(230201),c=r(400962),u=r(24246),d=r(785893);let f=60;function _({iconType:e,title:t,viewParameter:r,viewType:_}){(0,a.useEffect)(()=>{(0,n.Z)("Header","/app/common/react/components/VisualSearch/Header.tsx")},[]);let p=(0,u.Z)(),{previous:h}=(0,c.ou)(),m=(0,o.s0)(),{logContextEvent:g}=(0,s.u)();return(0,d.jsxs)(i.xu,{alignItems:"center",color:"default",display:"flex",justifyContent:"center",minHeight:f,position:"absolute",top:!0,width:"100%",children:[(0,d.jsx)(i.xu,{"data-test-id":"shop-cancel-button",left:!0,marginStart:5,position:"absolute",children:(0,d.jsx)(i.hU,{accessibilityLabel:p._('Back button', 'lens.history.back.button', 'Accessible icon for back button'),icon:e??"directional-arrow-left",iconColor:"darkGray",onClick:()=>{g({event_type:101,view_type:_,element:34,view_parameter:r}),0===h.length?m("/"):m(-1)}})}),(0,d.jsx)(l.Z,{title:t})]})}},798492:function(e,t,r){r.d(t,{Z:()=>o});var n=r(501010),a=r(739405);function o(){let e=(0,a.ml)(),{checkExperiment:t}=(0,n.Z)();return{inAffiliateDisclosureEnabled:e?t("mweb_closeup_affiliate_discloseures").anyEnabled:t("web_closeup_affiliate_discloseures").anyEnabled}}},513530:function(e,t,r){r.d(t,{Z:()=>T});var n,a=r(686659),o=r(667294);r(167912);var i=r(312048),l=r(740097),s=r(938545),c=r(364969),u=r(230201),d=r(183e3),f=r(24246),_=r(501010),p=r(906127),h=r(187197),m=r(978387),g=r(730448),b=r(575820),y=r(893957),v=r(285676),E=r(645479),S=r(496516),w=r(157997),P=r(785893);let x=(void 0!==n||(n=r(978917)).hash&&"4998effb3bbd67a125c188d857131114"!==n.hash&&console.error("The definition of 'VisualSearchMasonryGrid_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function T({alignStart:e,auxData:t,isFilterOpened:r,isProductFeed:n,pinKey:T,searchId:A,viewParameter:I,viewType:R,visualSearchFlashlightUnifiedResource:O}){(0,o.useEffect)(()=>{(0,a.Z)("VisualSearchMasonryGrid","/app/common/react/components/shopping/RelatedProducts/UnifiedFeed/VisualSearchMasonryGrid.tsx")},[]);let C=(0,w.D)(),k=(0,d.Z)(x,T),N=(0,f.Z)(),D=(0,i.TH)(),{logContextEvent:L}=(0,u.u)(),Z=(0,o.useRef)(null),j=(0,o.useRef)(!1),{checkExperiment:U}=(0,_.Z)(),M=(0,S.Z)(U,"visual_search");(0,o.useEffect)(()=>{Z.current?.handleResize()},[r]),(0,y.Z)(()=>{let e=(0,g.Z)(()=>{j.current||(L({event_type:110,view_type:R,view_parameter:I}),j.current=!0)},1e3);return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)});let{data:F,isFetching:B,fetchMore:z,isAtEnd:V}=O,H=F?.results||[];return(0,P.jsxs)(l.xu,{"data-test-id":"visual-search-feed",children:[(0,P.jsx)(p.Z,{isAtEndOfFeed:V,itemCount:H.length,children:(0,P.jsx)(l.Rk,{ref:Z,align:e?"start":"center",getColumnSpanConfig:e=>{let t="story"===e.type&&e.display_options?.num_columns_requested;return 0===t?1/0:t||1},items:H,loadItems:z,minCols:1,renderItem:function({data:e,itemIdx:r}){switch(e.type){case"pin":let a=(0,P.jsx)(v.Z,{auxData:t,componentType:0,duploQueryRef:null,pinId:e.id,slotIndex:r,surface:n?"ShoppingDynamicHeightGrid":"SearchItem",viewData:{search_identifier:A},viewParameter:I,viewType:R});if(M)return(0,P.jsx)(E.Z,{headerHeightModifier:c.Or+s.Dj+s.qe,children:a});return a;case"story":let o;if(C&&"unified_entry_point_flashlight_header"===e.story_type)return null;if(k?.entityId){let t=(0,b.mB)(D.search),r=(0,b.mB)(e.action?.url).full_feed_title||"";t.full_feed_title=(0,h.Z)(r);let n=(0,b.XP)(t);o=`/pin/${k.entityId}/visual-search/products/?${n}`}return(0,P.jsx)(m.default,{component:14339,dangerouslySetActionUrl:o,initialSlotIndex:r,showExpanded:!1,story:e,storyKey:{type:"Legacy",data:e},styleOverrides:{justifyContent:"start"},view:R,viewParameter:I});default:return null}},scrollContainer:()=>window})}),(0,P.jsx)(l.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:(0,P.jsx)(l.xH,{accessibilityLabel:N._('Loading visual search results', 'visualSearch.spinner.label', 'Accessibility label for spinner when loading the visual search results'),show:B})})]})}},531996:function(e,t,r){r.d(t,{Z:()=>u});var n=r(667294);function a(e){let{category_filters:t,domain_filters:r,price_filters:n}=e||{};return!!t||!!r||!!n}var o=r(933442),i=r(986475),l=r(661376),s=r(640200);let c=e=>"shop_the_look_module"===e||"stela_landing_page_category_filter"===e;function u({resourceOptions:e}){let[t,r]=(0,n.useState)(),[u,d]=(0,n.useState)(""),[f,_]=(0,n.useState)(),{cachedOneBarModules:p,setCachedOneBarModules:h,cachedDescriptorModules:m,setCachedDescriptorModules:g}=(0,o._)(),b=(0,l.Z)(e?{name:"VisualSearchFlashlightUnifiedResource",options:e}:null),{auxData:y}=b,v=y?.metadata?.one_bar_modules,E=y?.metadata?.descriptors_one_bar_modules,{pin_id:S="",entrypoint:w,crop_source:P}=e||{},x=c(w)?p[S]:(0,i.Z)(s.Z,!0)(v),T=m?.[S]?m[S]:(0,i.Z)(s.Z,!0)(E),A=!Number.isNaN(P)&&5!==Number(P);return(0,n.useEffect)(()=>{v&&c(w)&&h(e=>{if(e[S])return e;let t=(0,i.Z)(s.Z,!0)(v);return{...e,[S]:t}})},[v,h,S,w]),(0,n.useEffect)(()=>{E&&g(()=>m[S]?m:{[S]:(0,i.Z)(s.Z,!0)(E)})},[E,S,g,m]),(0,n.useEffect)(()=>{let{data:e}=b,t=e?.search_identifier;t&&d(t),r(e)},[b]),(0,n.useEffect)(()=>{let{data:e}=b,r=e?.search_identifier,n=t?.search_identifier;e&&(!r||!n||r!==n)&&!a(t)&&a(e)&&_({category_filters:e.category_filters,domain_filters:e.domain_filters,price_filters:e.price_filters})},[f,t,b]),{descriptorModules:A?[]:T,filters:f,oneBarModules:x,searchId:u,setSearchId:d,visualSearchFlashlightUnifiedResource:b}}},933442:function(e,t,r){r.d(t,{_:()=>l,p:()=>s});var n=r(667294),a=r(213491),o=r(785893);let{Provider:i,get:l}=(0,a.Z)("VisualShopContext");function s({children:e}){let[t,r]=(0,n.useState)({}),[a,l]=(0,n.useState)({}),s=(0,n.useRef)(0),c=(0,n.useRef)("");return(0,o.jsx)(i,{value:{cachedOneBarModules:t,setCachedOneBarModules:r,cachedDescriptorModules:a,setCachedDescriptorModules:l,imageContainerScrollTop:s,imageContainerScrollTopForPinId:c},children:e})}},364969:function(e,t,r){r.d(t,{Or:()=>_,Sx:()=>f,ZP:()=>h});var n=r(686659),a=r(667294),o=r(740097),i=r(433100),l=r(185420),s=r(31863),c=r(148),u=r(9065),d=r(785893);let f=13,_=l.M+100+16,p=(0,u.Z)(()=>r.e("74090").then(r.bind(r,17667)),void 0,e=>17667,"app-common-react-components-OneBar-OneBar",e=>["74090"]);function h({imageUrl:e,initialUrl:t,oneBarModules:r,title:u,viewParameter:_,viewType:h}){return(0,a.useEffect)(()=>{(0,n.Z)("VisualShopHeader","/app/common/react/components/shopping/VisualShopLandingPage/VisualShopHeader.tsx")},[]),(0,d.jsx)(c.v,{children:(0,d.jsx)(i.f,{children:(0,d.jsx)(s.Z,{position:"sticky",shouldShowShadow:!0,children:(0,d.jsxs)(o.xu,{color:"default",direction:"column",display:"flex",children:[(0,d.jsx)(l.Z,{iconType:"cancel",viewParameter:_,viewType:h}),(0,d.jsxs)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginTop:l.M}},"data-test-id":"visual-shop-header",direction:"row",display:"flex",marginBottom:6,marginStart:f,children:[e&&(0,d.jsx)(o.zd,{height:100,rounding:2,wash:!0,width:100,children:(0,d.jsx)(o.Ee,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,role:"presentation",src:e})}),(0,d.jsx)(o.xu,{marginStart:4,children:(0,d.jsx)(o.qd,{accessibilityLevel:1,size:"600",children:u})})]}),!!r&&(0,d.jsx)(o.xu,{marginStart:4,children:(0,d.jsx)(p,{hasProductFiltersApplied:!1,hrefOverride:t,oneBarModulesKey:null,oneBarModulesRest:r,viewParameter:_,viewType:h})})]})})})})}},724903:function(e,t,r){function n({maxPrice:e,minPrice:t,price:r}){return e&&t?`${t}-${e}`:r}r.d(t,{Z:()=>n})},667980:function(e,t,r){r.d(t,{N:()=>s,Z:()=>l});var n=r(686659),a=r(667294),o=r(740097),i=r(785893);function l({children:e,fullWidth:t,overrideDataTestId:r}){return(0,a.useEffect)(()=>{(0,n.Z)("EnablePointerEvents","/app/packages/PinRep/EnablePointerEvents.tsx")},[]),(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:t?"100%":void 0}},"data-test-id":r||"pointer-events-wrapper",children:e})}function s({children:e,enabled:t}){return(0,a.useEffect)(()=>{(0,n.Z)("EnablePointerEvents","/app/packages/PinRep/EnablePointerEvents.tsx")},[]),t?(0,i.jsx)(l,{children:e}):e}},465989:function(e,t,r){r.d(t,{$N:()=>u,Cu:()=>f,NR:()=>l,S9:()=>o,bC:()=>d,fm:()=>n,kM:()=>a,qp:()=>i,uV:()=>s,ug:()=>c});let n={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",BULK_ID_LIBRARY:"BULK_ID_LIBRARY",RESOURCES:"RESOURCES"},a={BILLING_HISTORY:"BILLING_HISTORY",BILLING_RECEIPT:"BILLING_RECEIPT",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",TAX_DOCUMENTS:"TAX_DOCUMENTS",DOCUMENTS:"DOCUMENTS",PREPAID_SPEND_SUMMARY:"PREPAID_SPEND_SUMMARY",PREPAID_SPEND_BREAKDOWN:"PREPAID_SPEND_BREAKDOWN",SUMMARY:"SUMMARY"},o={CREATE:"CREATE",MANAGE:"MANAGE",VIEW_REPORT:"VIEW_REPORT",AB_TEST_CREATE:"AB_TEST_CREATE"},i={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_MANUAL_SETUP_FLOW:"PINTEREST_TAG_MANUAL_SETUP_FLOW",PINTEREST_TEST_EVENTS:"PINTEREST_TEST_EVENTS",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_HEALTH:"CONVERSION_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD",CONVERSIONS_API:"CONVERSIONS_API",CONVERSIONS_API_ACCESS_TOKEN:"CONVERSIONS_API_ACCESS_TOKEN",CONVERSIONS_API_PARTNER_SETUP_FLOW:"CONVERSIONS_API_PARTNER_SETUP_FLOW",CONVERSIONS_API_MANUAL_SETUP_FLOW:"CONVERSIONS_API_MANUAL_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW:"PINTEREST_EVENTS_OVERVIEW",CONVERSIONS:"CONVERSIONS",PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP:"PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP",PINTEREST_SETUP_API:"PINTEREST_SETUP_API",NOCODE_CONVERSIONS_API_SETUP_FLOW:"NOCODE_CONVERSIONS_API_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW_CAPI_TAB:"PINTEREST_EVENTS_OVERVIEW_CAPI_TAB",PINTEREST_EVENT_HISTORY_CAPI_TAB:"PINTEREST_EVENT_HISTORY_CAPI_TAB"},l={DESTINATION:"destination",EXPIRY:"expiry",SOURCE:"attributionsrc",SOURCE_EVENT_ID:"source_event_id",SOURCE_EVENT_TYPE:"source_event_type",PRIORITY:"priority",CLICK_PRIORITY:"2",VIEW_PRIORITY:"1",HOSTNAME:"hostname",CAMPAIGN_ID:"campaign_id",ADVERTISER_ID:"advertiser_id"},s="604800",c="86400",u={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_DESTINATION:"attributiondestination",ATTRIBUTE_ON:"attributeon"},d="click",f="view"},343669:function(e,t,r){r.d(t,{G6:()=>o,i7:()=>i,oi:()=>n,u$:()=>a,un:()=>s,vU:()=>l,w1:()=>c});let n=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),a=e=>e?e.includes("Chrome")?n.CHROME:e.includes("Safari")?n.SAFARI:e.includes("Firefox")?n.FIREFOX:e.includes("Opera")?n.OPERA:e.includes("IE")?n.IE:e.includes("Edge")?n.EDGE:n.OTHER:n.OTHER;function o(e){return a(e)===n.SAFARI}function i(e){return a(e)===n.CHROME}function l(e){return a(e)===n.FIREFOX}function s(e){return a(e)===n.EDGE}function c(e){return a(e)===n.IE}},28031:function(e,t,r){r.d(t,{Z:()=>s});var n=r(667294);function a(e){return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}function o(){return window.innerWidth}function i(){return window.innerHeight}function l(){return null}function s(){let e=(0,n.useSyncExternalStore)(a,i,l),t=(0,n.useSyncExternalStore)(a,o,l);return null!==e&&null!==t?{height:e,width:t}:null}},758714:function(e,t,r){r.d(t,{DW:()=>o,I:()=>a,Rn:()=>l,e3:()=>u,oo:()=>n,rk:()=>c,t7:()=>s,zI:()=>i});let n=e=>{let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t&&[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]},a=.18,o=(e,t,r)=>.2126*(e/255)**2.2+.7151*(t/255)**2.2+.0721*(r/255)**2.2,i=e=>{let t=e.replace("#",""),r=parseInt(t.substr(0,2),16);return(299*r+587*parseInt(t.substr(2,2),16)+114*parseInt(t.substr(4,2),16))/1e3<155},l=({hexColor:e,saturationMultiplier:t,brightnessMultiplier:r,minSaturationClamp:a,mixVal:o=1,minBrightnessClamp:i=0})=>{let l=n(e);null===l&&(l=[229,229,224]);let s=((e,t,r)=>{let n=Math.max(e/=255,t/=255,r/=255),a=n-Math.min(e,t,r),o=0;return 0!==a&&(o=(n===e?(t-r)/a+6*(t<r):n===t?(r-e)/a+2:(e-t)/a+4)*60)<0&&(o+=360),{h:o,s:0===n?0:a/n,b:n}})(...l),c=(e,t,r)=>Math.max(t,Math.min(e,r));s.s=c(s.s*(1+t),a,1),s.b=c(s.b*(1+r),i,1);let u=(({h:e,s:t,b:r})=>{let n=r*t,a=n*(1-Math.abs(e/60%2-1)),o=r-n,i=0,l=0,s=0;return e<60?(i=n,l=a):e<120?(i=a,l=n):e<180?(l=n,s=a):e<240?(l=a,s=n):e<300?(i=a,s=n):(i=n,s=a),{r:Math.round((i+o)*255),g:Math.round((l+o)*255),b:Math.round((s+o)*255)}})({...s}),d=e=>({r:Math.round(u.r*o+e*(1-o)),g:Math.round(u.g*o+e*(1-o)),b:Math.round(u.b*o+e*(1-o))}),f=d(0),_=d(255);return[[f.r,f.g,f.b],[_.r,_.g,_.b]]};function s(e){if("string"!=typeof e)return{r:0,g:0,b:0,a:0};let t=e.trim(),r="rgba"===t.slice(0,4).toLowerCase(),n=!r&&"rgb"===t.slice(0,3).toLowerCase();if(!r&&!n)return{r:0,g:0,b:0,a:0};let a=t.indexOf("("),o=t.indexOf(")",a);if(-1===a||-1===o)return{r:0,g:0,b:0,a:0};let i=t.slice(a+1,o).split(",").map(e=>e.trim());if(r&&4!==i.length||n&&3!==i.length)return{r:0,g:0,b:0,a:0};let[l,s,c,u]=i,d=Number(l),f=Number(s),_=Number(c),p=r?Number(u):1;return[d,f,_].some(e=>Number.isNaN(e))||r&&Number.isNaN(p)?{r:0,g:0,b:0,a:0}:{r:d,g:f,b:_,a:p}}function c(e,t){let r=e.a+t.a*(1-e.a);return 0===r?{r:0,g:0,b:0,a:0}:{r:Math.round((e.r*e.a+t.r*t.a*(1-e.a))/r),g:Math.round((e.g*e.a+t.g*t.a*(1-e.a))/r),b:Math.round((e.b*e.a+t.b*t.a*(1-e.a))/r),a:r}}let u=e=>`rgba(${e.r}, ${e.g}, ${e.b}, ${e.a})`},59355:function(e,t,r){r.d(t,{Q:()=>s,Z:()=>c});var n=r(667294),a=r(104999),o=r(746868),i=r(730056),l=r(774838);function s(e,t){let{setViewContextData:r}=(0,o.A$)(),{requestIdentifier:s}=(0,l.B)(),c=(0,a.Z)(),{viewData:u}=(0,o.SU)();(0,n.useEffect)(()=>{e&&(r({viewType:e.view_type??1,viewParameter:e.view_parameter,viewData:e.view_data?(0,i.Z)(u,e.view_data):u,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),c({...e,event_type:13,request_identifier:s}))},[t])}function c(e){let{children:t,log:r}=e;return s(r),t||null}},784548:function(e,t,r){r.d(t,{$y:()=>o,AU:()=>u,VD:()=>f,_d:()=>a,am:()=>c,bj:()=>i,pv:()=>d,tb:()=>s,x1:()=>l});let n="local",a={INIT_CURRENT_USER_TRACKER:"INIT_CURRENT_USER_TRACKER",ADD_VISITED_PAGE:"ADD_VISITED_PAGE",ADD_COMPLETED_SEARCH:"ADD_COMPLETED_SEARCH",REMOVE_COMPLETED_SEARCH:"REMOVE_COMPLETED_SEARCH",ADD_CLICKTHROUGH_PIN:"ADD_CLICKTHROUGH_PIN",UPDATE_DOWNLOAD_COUNT:"UPDATE_DOWNLOAD_COUNT",UPDATE_SAVED_PINS:"UPDATE_SAVED_PINS",UPDATE_REVISITATION:"UPDATE_REVISITATION"},o=e=>({type:a.INIT_CURRENT_USER_TRACKER,payload:e}),i=(e,t)=>({type:a.ADD_VISITED_PAGE,payload:{path:e,pageType:t,storageType:n}}),l=e=>({type:a.ADD_COMPLETED_SEARCH,payload:{search:e,storageType:n}}),s=e=>({type:a.REMOVE_COMPLETED_SEARCH,payload:{query:e,storageType:n}}),c=e=>({type:a.ADD_CLICKTHROUGH_PIN,payload:{pin:e,storageType:n}}),u=()=>({type:a.UPDATE_DOWNLOAD_COUNT,payload:{storageType:n}}),d=e=>({type:a.UPDATE_SAVED_PINS,payload:{pins:e,storageType:n}}),f=e=>({type:a.UPDATE_REVISITATION,payload:{revisitation:e,storageType:n}})},293123:function(e,t,r){r.d(t,{$2:()=>h,EI:()=>_,HY:()=>P,Ku:()=>g,LI:()=>b,V5:()=>v,Vz:()=>f,aJ:()=>y,cn:()=>E,cq:()=>S,eo:()=>m,jo:()=>w,yb:()=>p});var n=r(4533),a=r(994507),o=r(971258),i=r(52433),l=r(34550),s=r(418282),c=r(163691),u=r(767415);function d(e){return"local"===e?(0,l.M0)():(0,s.Nl)()}let f=(e="local")=>{try{let t=d(e);if(!t.accessAllowed)return a.PW;return(t.getItem(n.pm)||a.PW).map(e=>({...e,path:(0,i.Z)(e.path)}))}catch(e){return(0,u.nP)("current_user_tracker.storage.get_visited_pages.error"),a.PW}},_=(e,t,r="local")=>{try{let l=d(r);if(!l.accessAllowed)return;let s=(0,i.Z)(e),c=[...f(r)],u=(0,o.b8)(c,s,t,a.LG);u!==c&&l.setItem(n.pm,u)}catch(e){(0,u.nP)("current_user_tracker.storage.add_visited_page.error")}},p=(e="local")=>{try{let t=d(e);if(!t.accessAllowed)return a.fE;return t.getItem(n.ny)||a.fE}catch(e){return(0,u.nP)("current_user_tracker.storage.get_completed_searches.error"),a.fE}},h=(e,t="local")=>{try{let r=d(t);if(!r.accessAllowed)return;let i=[...p(t)],l=(0,o.aq)(i,e,a.LG);l!==i&&r.setItem(n.ny,l)}catch(e){(0,u.nP)("current_user_tracker.storage.add_completed_search.error")}},m=(e,t="local")=>{try{let r=d(t);if(!r.accessAllowed)return;let a=[...p(t)],i=(0,o.zz)(a,e);r.setItem(n.ny,i)}catch(e){(0,u.nP)("current_user_tracker.storage.remove_completed_search.error")}},g=(e="local")=>{try{let t=d(e);if(!t.accessAllowed)return a.iK;return t.getItem(n.Vb)||a.iK}catch(e){return(0,u.nP)("current_user_tracker.storage.get_clickthrough_pins.error"),a.iK}},b=(e,t="local")=>{try{let r=d(t);if(!r.accessAllowed)return;let i=[...g(t)],l=(0,o.UP)(i,e,a.LG);l!==i&&r.setItem(n.Vb,l)}catch(e){(0,u.nP)("current_user_tracker.storage.add_clickthrough_pin.error")}},y=(e="local")=>{try{let t=d(e);if(!t.accessAllowed)return a.cH;return parseInt(t.getItem(n.rN)||String(a.cH),10)}catch(e){return(0,u.nP)("current_user_tracker.storage.get_download_count.error"),a.cH}},v=(e,t="local")=>{try{let r=d(t);if(!r.accessAllowed)return;r.setItem(n.rN,e.toString())}catch(e){(0,u.nP)("current_user_tracker.storage.set_download_count.error")}},E=(e="local")=>{try{let t=d(e);if(!t.accessAllowed)return a.pn;return t.getItem(n.s1)??a.pn}catch(e){return(0,u.nP)("current_user_tracker.storage.get_saved_pins.error"),a.pn}},S=(e,t="local")=>{try{let r=d(t);if(!r.accessAllowed)return;r.setItem(n.s1,e)}catch(e){(0,u.nP)("current_user_tracker.storage.set_saved_pins.error")}},w=(e="local")=>{try{let t=d(e);if(!t.accessAllowed)return(0,a.dm)();let{count:r,time:o,ts:i}=t.getItem(n.SI)??{};if("number"==typeof r&&"number"==typeof o&&"number"==typeof i)return{count:r,time:o,ts:i};return(0,a.dm)()}catch(e){return(0,u.nP)("current_user_tracker.storage.get_revisitation.error"),(0,a.dm)()}},P=(e,t="local")=>{try{let r=d(t);if(!r.accessAllowed)return;r.setItem(n.SI,(0,c.Z)(e))}catch(e){(0,u.nP)("current_user_tracker.storage.set_revisitation.error")}}},971258:function(e,t,r){r.d(t,{UP:()=>s,aq:()=>l,b8:()=>i,zz:()=>c});var n=r(52433),a=r(163691);let o=(e,t,r)=>{let n=[t,...e];return n.length>r?n.slice(0,r):n},i=(e,t,r,i)=>{let l=(0,n.Z)(t);return((e,t)=>{let r=e.length,a=(0,n.Z)(t),o=r?(0,n.Z)(e[0].path):"";return!r||a!==o})(e,l)?o(e,(0,a.Z)({path:l,pageType:r}),i):e},l=(e,t,r)=>((e,t)=>{let r=e.length,n=r?e[0].query:"";return!r||t!==n})(e,t.query)?o(e,(0,a.Z)(t),r):e,s=(e,t,r)=>((e,t)=>{let r=e.length,n=r?e[0].pinId:"";return!r||t!==n})(e,t.pinId)?o(e,(0,a.Z)(t),r):e,c=(e,t)=>e.filter(e=>e.query!==t)},52433:function(e,t,r){r.d(t,{Z:()=>a});var n=r(197908);function a(e){let t=(0,n.Z)(e);return t?`/pin/${t}/`:e}},247262:function(e,t,r){function n(e){let t=Math.round(e/1e3),r=Math.floor(t/60),n=t%60;return r+":"+(n<10?"0":"")+n}r.d(t,{Z:()=>n})},818244:function(e,t,r){r.d(t,{g:()=>i,t:()=>o});var n=r(667294);let a=(0,n.createContext)(null),o=a,i=()=>(0,n.use)(a)},817468:function(e,t,r){r.d(t,{Z:()=>l});var n=r(667294),a=r(183230),o=r(767415);function i(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class l extends n.Component{constructor(...e){super(...e),i(this,"state",{error:null,info:null}),i(this,"resetError",()=>{this.setState({error:null,info:null})})}componentDidCatch(e,t){try{let{name:t}=this.props,r=this.props.type||"secondary";(0,a.T)({extraData:e.extraData??{},errorBoundary:t,errorBoundaryType:r,message:e.message,name:e.name,stack:e.stack}),(0,o.nP)("react.error_boundary",{sampleRate:.1,tags:{component:void 0,name:this.props.name}})}catch(e){(0,o.nP)("react.error_boundary.error",{sampleRate:1,tags:{name:this.props.name}})}this.setState({error:e,info:t})}render(){let{renderErrorState:e}=this.props,{error:t,info:r}=this.state;return t&&r?e?e({error:t,info:r,resetError:this.resetError}):null:this.props.children}}},470205:function(e,t,r){r.d(t,{Z:()=>n});let n=r(817468).Z},315567:function(e,t,r){r.d(t,{Z:()=>n});let n=e=>{let[t,r]=[e?.width||580,e?.height||400],[n,a]=[window.screen.width,window.screen.height];return`scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=${t},height=${r},left=${Math.round((n-t)/2)},top=${a>r?Math.round((a-r)/2):0}`}},440077:function(e,t,r){r.d(t,{$wd:()=>T,AEu:()=>O,AMH:()=>Y,Apc:()=>ef,BJZ:()=>en,C9x:()=>$,EFb:()=>el,Ecf:()=>er,EvS:()=>x,FCL:()=>ec,F_B:()=>l,G4W:()=>S,Gh8:()=>M,GnN:()=>ep,Hgl:()=>e_,Je9:()=>I,Klx:()=>W,KtD:()=>J,LZO:()=>d,N$$:()=>ed,O8_:()=>X,OHS:()=>k,PQn:()=>z,QJA:()=>N,QO3:()=>u,RdP:()=>ea,Ryt:()=>L,Tp5:()=>eh,Twt:()=>p,UON:()=>em,UTl:()=>D,V9q:()=>eu,Vrx:()=>eg,Wmm:()=>n,Wyp:()=>m,XSG:()=>c,XgG:()=>G,YmI:()=>K,_HG:()=>i,_dC:()=>P,a85:()=>w,b2_:()=>b,b9x:()=>Q,bJI:()=>H,bcf:()=>g,buv:()=>et,cpp:()=>y,cxq:()=>j,d40:()=>eo,dUT:()=>C,etl:()=>f,fcC:()=>B,goQ:()=>A,hWn:()=>ee,hio:()=>_,ilB:()=>h,jKP:()=>U,jc_:()=>R,k29:()=>q,lbE:()=>E,lwx:()=>es,nTo:()=>V,qiK:()=>a,qqC:()=>s,rEw:()=>v,saV:()=>ei,v$5:()=>Z,z6F:()=>F,zsO:()=>o});let n="var(--sema-color-background-default)",a="var(--sema-color-background-primary)",o="var(--sema-color-background-secondary)",i="var(--sema-color-background-tertiary)",l="var(--sema-color-background-subtle)",s="var(--sema-color-background-selected)",c="var(--sema-color-background-education)",u="var(--sema-color-background-elevation)",d="var(--sema-color-background-scrim)",f="var(--sema-color-background-inverse)",_="var(--sema-color-background-light)",p="var(--sema-color-background-dark)",h="var(--sema-color-background-disabled)",m="var(--sema-color-background-transparent)",g="var(--sema-color-background-info-default)",b="var(--sema-color-background-info-weak)",y="var(--sema-color-background-recommendation-default)",v="var(--sema-color-background-recommendation-weak)",E="var(--sema-color-background-success-default)",S="var(--sema-color-background-success-weak)",w="var(--sema-color-background-warning-default)",P="var(--sema-color-background-warning-weak)",x="var(--sema-color-background-error-default)",T="var(--sema-color-background-error-weak)",A="var(--sema-color-background-wash-image-tint)",I="var(--sema-color-background-wash-scrims-default)",R="var(--sema-color-background-wash-scrims-opaque)",O="var(--sema-color-background-gradient-darken-bottom-weak)",C="var(--sema-color-background-gradient-darken-bottom-strong)",k="var(--sema-color-background-gradient-darken-top-weak)",N="var(--sema-color-background-gradient-darken-top-strong)",D="var(--sema-color-border-decorative)",L="var(--sema-color-border-interactive)",Z="var(--sema-color-border-selected)",j="var(--sema-color-border-disabled)",U="var(--sema-color-border-error)",M="var(--sema-color-border-education)",F="var(--sema-color-border-inverse)",B="var(--sema-color-border-transparent)",z="var(--sema-color-border-light-decorative)",V="var(--sema-color-border-focus-outer-default)",H="var(--sema-color-border-focus-inner-default)",G="var(--sema-color-text-default)",$="var(--sema-color-text-subtle)",K="var(--sema-color-text-inverse)",W="var(--sema-color-icon-primary)",q="var(--sema-color-dataviz-01)",Y="var(--sema-color-dataviz-02)",J="var(--sema-color-hover-background-default)",X="var(--sema-color-hover-background-primary)",Q="var(--sema-color-hover-background-elevation)",ee="var(--sema-color-pressed-background-default)",et="var(--sema-color-pressed-background-elevation)",er="var(--sema-elevation-shadow-floating)",en="var(--sema-font-size-body-100)",ea="var(--sema-rounding-200)",eo="var(--sema-rounding-300)",ei="var(--sema-rounding-400)",el="var(--sema-rounding-pill)",es="var(--sema-space-0)",ec="var(--sema-space-25)",eu="var(--sema-space-100)",ed="var(--sema-space-200)",ef="var(--sema-space-400)",e_="var(--sema-space-500)",ep="var(--sema-space-800)",eh="var(--sema-space-1000)",em="var(--sema-space-1200)",eg="var(--sema-space-1400)"},309947:function(e,t,r){function n(e=!0){let t=e?16:void 0,r=t?Math.floor(t/4):void 0;return{experimentalColumnWidth:e?221:void 0,experimentalGutter:t,experimentalGutterBoints:r}}r.d(t,{Z:()=>n})},712156:function(e,t,r){r.d(t,{Z:()=>a});var n=r(774838);let a=()=>{let e="default",{locale:t}=(0,n.B)();return(({"ar-SA":"tall","bn-IN":"tall","hi-IN":"tall","te-IN":"tall","ko-KR":"ck","zh-CN":"ck","zh-TW":"ck",ja:"ja","th-TH":"th","vi-VN":"vi"})[t]??e)===e?"compact":"none"}},935059:function(e,t,r){r.d(t,{$:()=>n,Z:()=>o});let{Provider:n,get:a}=(0,r(213491).Z)("viewer"),o=a},806513:function(e,t,r){r.d(t,{$H:()=>l,$q:()=>v,$u:()=>a,Az:()=>d,Cw:()=>P,D6:()=>u,GZ:()=>w,Ke:()=>y,Lo:()=>o,P2:()=>m,TS:()=>S,Wv:()=>E,ZZ:()=>_,g5:()=>p,jC:()=>s,lX:()=>h,oX:()=>g,qG:()=>b,tG:()=>i,yF:()=>n,yc:()=>f,yt:()=>c});let n=236,a=270,o=157.33333333333334,i=175,l=24,s=4,c=8,u=2,d=8,f=2,_=14,p=16,h=16,m=24,g=16,b=-1,y=2,v=(e=!1,t=!1)=>e?t?h:12:m,E=({defaultItemWidth:e,contentVisibleItemCount:t,gap:r,moduleWidth:n})=>t||n?(n-((Math.ceil(t)+1)*r+8))/t:e,S=(e,t,r)=>{let a=r?3:2,o=t?5:a,l=t?n:i,s=t?g:c,u=l*o+s*o-(t||!t&&r?12:6);if(!e)return u;for(let t=o;t>=2;t-=1)if(e>u)break;else u=l*t+s*t;return u};function w(e){let t=Object.values(e.videos?.video_list??{}).find(e=>"number"==typeof e.width&&"number"==typeof e.height);return t?{width:t.width,height:t.height}:{width:0,height:0}}function P(e){return!!(e&&"is_premiere"in e&&e.is_premiere&&"videos"in e&&e.videos)}},507006:function(e,t,r){r.d(t,{Z:()=>o});var n=r(720459),a=r(774838);let o=({currency:e,maximumFractionDigits:t,minimumFractionDigits:r,shortform:o,shortformMaximumFractionDigits:i,formatStyle:l,uplimit:s,value:c})=>(0,n.Z)()((0,a.B)().locale||"en-US",c,{currency:e,maximum_fraction_digits:t,minimum_fraction_digits:r,shortform:o,shortform_maximum_fraction_digits:i,style:l,uplimit:s})},24246:function(e,t,r){r.d(t,{Z:()=>o,q:()=>n});let{Provider:n,get:a}=(0,r(213491).Z)("i18n"),o=a},995514:function(e,t,r){r.d(t,{Z:()=>i});var n=r(375181),a=r(24246),o=r(216975);function i(){let e=(0,a.Z)();return function(t,r){let a=new Date(t).getTime(),i=Date.now()-a,l=Math.floor(i/n.FS),s=Math.floor(i/n.UK),c=Math.floor(i/n.F4),u=Math.floor(i/n.VL),d=Math.floor(i/n.N9),f=Math.floor(i/n.N1),_=e.ngettext('{{ minutes }} minute ago', '{{ minutes }} minutes ago', l, ' - ', ' -- '),p=e.ngettext('{{ hours }} hour ago', '{{ hours }} hours ago', s, ' - ', ' -- '),h=e.ngettext('{{ days }} day ago', '{{ days }} days ago', c, ' - ', ' -- '),m=e.ngettext('{{ weeks }} week ago', '{{ weeks }} weeks ago', u, ' - ', ' -- '),g=e.ngettext('{{ months }} month ago', '{{ months }} months ago', d, 'useGetHumanizedTimeSince.monthsString', 'months since last update'),b=e.ngettext('{{ years }} year ago', '{{ years }} years ago', f, ' - ', ' -- '),y=e.ngettext('{{ minutes }}m', '{{ minutes }}m', l, 'minutes ago abbreviated', 'minutes ago abbreviated'),v=e.ngettext('{{ hours }}h', '{{ hours }}h', s, 'hours ago abbreviated', 'hours ago abbreviated'),E=e.ngettext('{{ days }}d', '{{ days }}d', c, 'days ago abbreviated', 'days ago abbreviated'),S=e.ngettext('{{ weeks }}w', '{{ weeks }}w', u, 'weeks ago abbreviated', 'weeks ago abbreviated'),w=e.ngettext('{{ months }}mo', '{{ months }}mo', d, 'months ago abbreviated', 'months ago abbreviated'),P=e.ngettext('{{ years }}y', '{{ years }}y', f, 'years ago abbreviated', 'years ago abbreviated');return f>0?(0,o.nk)(r?P:b,{years:f}).join(""):d>0?(0,o.nk)(r?w:g,{months:d}).join(""):u>0?(0,o.nk)(r?S:m,{weeks:u}).join(""):c>0?(0,o.nk)(r?E:h,{days:c}).join(""):s>0?(0,o.nk)(r?v:p,{hours:s}).join(""):l>0?(0,o.nk)(r?y:_,{minutes:l}).join(""):e._('Just now', ' - ', ' -- ')}}},877904:function(e,t,r){r.d(t,{Z:()=>a});var n=r(767415);function a(e,t){return new Promise((r,a)=>{if(document.querySelector(`script[src="${e}"]`)){let e=0;if("FACEBOOK"===t)if(window.FB)r();else{let t=setInterval(()=>{window.FB||20===e?(clearInterval(t),r()):(e+=1,(0,n.nP)(`mweb.loadScript.facebook.tries_${e}`,{sampleRate:.01}))},100)}else if("GSI"===t)if(window.google)r();else{let t=setInterval(()=>{window.google||20===e?(clearInterval(t),r()):(e+=1,(0,n.nP)(`mweb.loadScript.gsi.tries_${e}`,{sampleRate:.01}))},100)}else r()}else{let t=document.createElement("script");t.src=e,t.async=!0,t.addEventListener("load",()=>r()),t.addEventListener("error",a),document.getElementsByTagName("head")[0].appendChild(t)}})}},566431:function(e,t,r){r.d(t,{Mt:()=>v,NK:()=>m,P6:()=>o,UE:()=>S,ZE:()=>p,Zt:()=>h,_J:()=>c,_S:()=>g,cL:()=>f,iR:()=>b,jL:()=>s,oN:()=>a,oU:()=>E,rM:()=>_,sV:()=>u,sY:()=>d,yp:()=>i});var n=r(764682);let a=5e3,o=5e3/n.gJ,i="Pin page",l=["Uploaded by user"],s=(e,t)=>!!t&&!e,c=e=>!!e&&5!==e,u=e=>["email","messages","deep_linking"].includes(e),d=e=>!!e&&"gif"===e,f=({embedSrc:e,embedSubtype:t,embedType:r})=>!!e&&!d(r)&&"pinstory"!==t,_=({link:e,mobileLink:t,trackedLink:r,utmLink:n})=>!t&&!n&&!r&&!e,p=e=>{if(!e)return!1;try{let{hostname:t}=new URL(e),r=t.toLowerCase();return"pin.it"===r||r.endsWith(".pin.it")}catch{return/\bpin\.it\b/i.test(e)}},h=({link:e,mobileLink:t,origImageUrl:r,trackedLink:n,utmLink:a})=>t||a||n||e||r||"",m=(e,t)=>({deeplinkUri:{android:`pin/${e}/repin`,iOS:`repin/${e}`},mwebUri:{pathname:`/pin/${e}/repin/`,state:{trackingParams:t.state?t.state.trackingParams:""}}});function g(e){for(let t of l)if(e===t)return!1;return!0}function b(e){if(!e)return!1;let{id:t,videos:r}=e;if(t&&r?.id&&r.video_list){let{V_720P:e,V_HLSV4:t,V_HLSV3_MOBILE:n}=r.video_list;if(e&&y(e)||t&&y(t)||n&&y(n))return!0}let n=e.story_pin_data?.pages?.[0]?.blocks;if(n){for(let e of n)if("story_pin_video_block"===e.type&&e?.video)return!0}return!1}function y(e){return!!(e.thumbnail&&e.url&&e.width&&e.height)}function v(e){return e?/(?:v\/|V\/|be\/|(?:\?|&)v=|embed\/|shorts\/)([\w-]+)/.exec(e)?.[1]??null:null}function E({isVideo:e,link:t}){return!!e&&!!t&&!!/(youtu(|.)be)/.exec(t)&&!!v(t)}let S=e=>"button"in e&&1===e.button},501010:function(e,t,r){r.d(t,{Z:()=>a});var n=r(774838);let a=()=>(0,n.Ts)().experimentsClient},906127:function(e,t,r){r.d(t,{Z:()=>s});var n=r(867342),a=r(667294),o=r(417394),i=r(23641),l=r(617120);function s({children:e,isAtEndOfFeed:t,pinData:r,itemCount:s,includeBackgroundImages:c=!1,includeVideos:u=!1,includeSections:d=!1,isPlaceholderGrid:f,stopwatchSetVisuallyCompleteResult:_,stopwatchContext:p}){let{isAuthenticated:h}=(0,l.bC)();h||(d=!0),(0,n.Z)({pinData:r,isAtEndOfFeed:t,includeBackgroundImages:c,includeVideos:u,includeSections:d,isPlaceholderGrid:f,stopwatchSetVisuallyCompleteResult:_,stopwatchContext:p});let m=(0,a.useRef)(null),g=(0,o.P9)();return(0,a.useEffect)(()=>{s!==m.current&&(m.current=s,g&&(0,i.Xr)("masonryPagination"))},[g,s]),e}},87980:function(e,t,r){r.d(t,{F9:()=>c,LM:()=>s,VZ:()=>o,cQ:()=>u,rZ:()=>i});var n=r(397345),a=r(705460);let o=()=>"number"==typeof window.innerHeight&&"number"==typeof window.pageYOffset&&!!document.querySelector&&!!document.querySelectorAll,i=e=>e instanceof HTMLDivElement||e instanceof HTMLVideoElement?e.getBoundingClientRect():e.parentElement instanceof HTMLElement?e.parentElement.getBoundingClientRect():null,l=e=>{if(e instanceof HTMLImageElement)return e.src;if(e instanceof HTMLVideoElement)return e.attributes.poster.value;let t=((e.style||{}).backgroundImage||"").match(/^url\(["'](.*)["']\)$/);return t&&t[1]||null},s=()=>document.querySelector?document.querySelectorAll(n.wc).length:((0,a.H)("missing_document_query_selector"),0),c=()=>{let e=(()=>{if(!document.querySelector)return(0,a.H)("missing_document_query_selector"),null;let e=document.querySelectorAll(n.wc);return e[e.length-1]||null})();if(!e)return!1;let t=window.innerHeight||0,r=window.pageYOffset||0;return e.getBoundingClientRect().top+r>=t},u=(e,t,r)=>{if(!document.querySelector)return(0,a.H)("missing_document_query_selector"),[];let o={foldY:window.innerHeight||0,pageYOffset:window.pageYOffset||0},s=[n.Wf,...e?[n.fF]:[],...t?[n.$N]:[]].join(","),c=[...document.querySelectorAll(s)];if(r){let e=[...document.querySelectorAll('div[data-test-id="board-section"]')],t=e=>{let r=[...e.children];!r.length&&e.style.backgroundImage?c.push(e):r.length&&r.forEach(e=>{t(e)})};e.forEach(e=>{t(e)})}return c.reduce((e,r)=>{if((r instanceof HTMLImageElement||r instanceof HTMLDivElement||r instanceof HTMLVideoElement&&t)&&((e,t)=>{let r=i(e);if(!r)return(0,a.H)("missing_client_rect"),!1;if(r.width<70&&r.height<70){if(e instanceof HTMLImageElement)return!1;let t=l(e);if(t?.endsWith("svg"))return!1}return(({top:e,height:t},{foldY:r,pageYOffset:n})=>{let a=e+n;if(a>=r)return!1;let o=Math.min(t,r-a);return o>.5*t||o>.2*r})(r,t)})(r,o)){let t=l(r);if(t){let n=(t||"").replace(/.*\//,"");return e.concat([{element:r,fileName:n}])}}return e},[])}},397345:function(e,t,r){r.d(t,{$N:()=>s,Kb:()=>n,Wf:()=>i,fF:()=>l,wc:()=>o});let n="pwt-grid-item",a=['div[data-grid-item="true"]',"div.Grid__Item",`div[data-test-id="${n}"]`],o=a.join(","),i=a.map(e=>`${e} img`).join(","),l=a.map(e=>`${e} div[style*=background-image]`).join(","),s=a.map(e=>`${e} video`).join(",")},867342:function(e,t,r){r.d(t,{Z:()=>_,v:()=>f});var n=r(667294),a=r(774303),o=r(87980),i=r(705460),l=r(591048),s=r(417394),c=r(23641),u=r(767415);let d=(0,a.XV)("GridProfiler"),f=()=>!!window.addEventListener&&!!window.removeEventListener&&(0,o.VZ)();function _({isAtEndOfFeed:e,pinData:t,includeBackgroundImages:r,includeVideos:f=!1,includeSections:_,isPlaceholderGrid:p,stopwatchSetVisuallyCompleteResult:h,stopwatchContext:m}){let g=(0,s.P9)(),[b,y]=(0,n.useState)({status:"DISABLED"});(0,n.useEffect)(()=>{y({status:"LAYOUT",failedCount:0,numOfItemsChecked:0})},[g]),(0,n.useEffect)(()=>{if(d("new status",b),"LAYOUT"===b.status){let e=((e,t)=>{let r=()=>{window.removeEventListener(e,r),t()};return window.addEventListener(e,r),()=>window.removeEventListener(e,r)})("scroll",()=>{(0,c.Xr)("scrollDuringLayout")});return()=>{e()}}return()=>{}},[b.status]),((e,t)=>{let r=(0,n.useRef)(()=>{});(0,n.useEffect)(()=>{r.current=e},[e]),(0,n.useEffect)(()=>{if(null===t)return()=>{};let e=setInterval(()=>r.current(),t);return()=>clearInterval(e)},[t])})(()=>{let n=(0,s.Ly)(),g=()=>{},v=e=>{(0,s.JG)(e),m&&m?.abort()};"unknown"!==n?g=c.rt:(n=`${m?.name}`,m?.addBinaryAnnotation&&(g=m?.addBinaryAnnotation));let E=(0,o.cQ)(r,f,_);if(p)return void d("bypassing PWT run due to skeleton pin grid");switch(b.status){case"LAYOUT":{let t=((e,t)=>{if(!t){let t=(0,o.LM)();if(t===e)return d("No new items, so skip the viewport-fill check."),{complete:!1,numOfItemsChecked:e};if(!(0,o.F9)())return d("Viewport may not be filled yet."),{complete:!1,numOfItemsChecked:t}}return{complete:!0}})(b.numOfItemsChecked,e);t.complete?y({status:"TIMING",failedCount:0,pinElements:E}):500*b.failedCount>6e4?((0,i.A9)(`images.${n}.visuallyComplete.maxLayoutAttempt`),v("visuallyComplete_layoutTimeout"),y({status:"DISABLED"})):y({...b,failedCount:b.failedCount+1,numOfItemsChecked:t.numOfItemsChecked});break}case"TIMING":{let e=(0,l.Cg)(),r=b.pinElements.length,o=[],c=0,f=0,_=0,p=1/0,m=0;if(b.pinElements.forEach(({element:t,fileName:r})=>{let i=e.find(e=>e.name.endsWith(r));i?i.responseEnd?(o.push(i),(0,a.v5)(t,"green"),"SEARCH_FEED_RENDER"===n&&(p=Math.min(p,i.requestStart),m=Math.max(m,i.responseEnd))):(_+=1,(0,a.v5)(t,"blue")):t instanceof HTMLImageElement&&t.complete?(f+=1,(0,a.v5)(t,"red")):(c+=1,(0,a.v5)(t,"greenyellow"))}),c||_)100*b.failedCount>6e4?((0,i.A9)(`images.${n}.visuallyComplete.maxAttempt`,{tags:{totalImageCount:r,incompleteCount:c,noTimingCount:f,noTimingResponseEndCount:_}}),v("visuallyComplete_timingTimeout"),y({status:"DISABLED"})):y({...b,failedCount:b.failedCount+1});else{if(d(`All ${o.length} images are fetched`),t&&t.length){var S,w;let e,r,a,o,l,c=(S=t,w=b.pinElements,e=0,r=0,a=0,o=0,l=0,S=S.filter(e=>"pin"===e.type),w.forEach((t,n)=>{let i,s=t.fileName.split(".")[0];i=S[n],s!==i?.image_signature&&(i=S.find(e=>s===e?.image_signature)),void 0===i?l+=1:i.is_promoted||i.recommendation_reason?.reason==="PROMOTED_PIN"||i?.promoter?.length?a+=1:null!==i.story_pin_data_id&&void 0!==i.story_pin_data_id?e+=1:i?.videos?.video_list?r+=1:o+=1}),{storyPinCount:e,videoCount:r,adCount:a,imageCount:o,unknownCount:l});if(Object.entries(c).forEach(([e,t])=>{g(e,t,"I16"),(0,s.XJ)(e,t,"I16")}),(0,i.A9)(`${n}.pinTypes`,{tags:c}),"SEARCH_FEED_RENDER"===n){let e=m-p;t[0].display_options?.num_columns_requested===0?(0,u.LY)("full_width_story_image_fetch_time_true",e,{sampleRate:1}):(0,u.LY)("full_width_story_image_fetch_time_false",e,{sampleRate:.05})}}(({imageTimings:e})=>{h&&h(),(0,s.cB)(e)})({imageTimings:o}),y({status:"DISABLED"}),(0,i.A9)(`images.${n}.visuallyComplete.complete`,{tags:{totalImageCount:r,noTimingCount:f}})}}}},"LAYOUT"===b.status&&500||"TIMING"===b.status&&100||null)}},969809:function(e,t,r){r.d(t,{Z:()=>n});let n=e=>{switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";default:return"OTHER"}}},132781:function(e,t,r){r.d(t,{A:()=>l,Z:()=>s});var n=r(686659),a=r(667294),o=r(740097),i=r(785893);let l=({fill:e})=>{(0,a.useEffect)(()=>{(0,n.Z)("RatingStars","/app/packages/recipe-star-components/RatingStars.tsx")},[]);let t="half"===e?(0,i.jsxs)(a.Fragment,{children:[(0,i.jsx)(o.xu,{position:"absolute",children:(0,i.jsx)(o.JO,{accessibilityLabel:"","aria-hidden":!0,color:"default",icon:"star-half",size:15})}),(0,i.jsx)(o.JO,{accessibilityLabel:"",color:"subtle",icon:"star",size:15})]}):(0,i.jsx)(o.JO,{accessibilityLabel:"","aria-hidden":!0,color:"full"===e?"default":"subtle",icon:"star",size:15});return(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"3px"}},"data-test-id":`rating-star-${e}`,display:"inlineBlock",children:t})};function s({max_rating:e,rating:t,display:r}){var s;if((0,a.useEffect)(()=>{(0,n.Z)("RatingStars","/app/packages/recipe-star-components/RatingStars.tsx")},[]),!t)return null;let c=[],u=parseFloat(e||"5"),d=5*(s=(s=parseFloat(t)||0)<=u?s:u)/u;if(Number.isNaN(d))return null;let f=Math.floor(d),_=d-f;return[...Array(f).keys()].forEach(e=>c.push((0,i.jsx)(l,{fill:"full"},e))),_>=.75?c.push((0,i.jsx)(l,{fill:"full"},c.length)):_>=.25&&c.push((0,i.jsx)(l,{fill:"half"},c.length)),[...Array(5-c.length).keys()].forEach(()=>c.push((0,i.jsx)(l,{fill:"empty"},c.length))),(0,i.jsx)(o.xu,{"aria-label":`Rating ${String(d)} stars out of 5`,"data-test-id":"rating-stars",display:r?"flex":"inlineBlock",position:"relative",role:"img",width:18*u,children:c})}},774838:function(e,t,r){r.d(t,{B:()=>o,P2:()=>l,Ts:()=>a,gf:()=>i});let n=r(969634),{getRequestContext:a}=n,{useRequestContext:o}=n,{useUpdateRequestContext:i}=n,{RequestContextProvider:l}=n},969634:function(e,t,r){r.r(t),r.d(t,{RequestContextProvider:()=>c,getRequestContext:()=>s,useRequestContext:()=>u,useUpdateRequestContext:()=>d});var n=r(667294),a=r(659541),o=r(907049),i=r(785893);let l=(0,n.createContext)(null);function s(){return(0,n.use)(l).requestContextState}function c({children:e,initialValue:t}){let[r,s]=(0,n.useState)(t),c=(0,n.useMemo)(()=>({requestContextState:r,updateRequestContext:e=>{let t={...r,...e};(0,o.Z)(r,e)||s(t),(0,a.J)(t)}}),[r]);return(0,i.jsx)(l,{value:c,children:e})}function u(){let e=(0,n.use)(l);if(!e)throw Error("useRequestContext must be used within a RequestContextProvider");return e.requestContextState}function d(){let e=(0,n.use)(l);if(!e)throw Error("useUpdateRequestContext must be used within a RequestContextProvider");return e.updateRequestContext}},619481:function(e,t,r){r.d(t,{Z:()=>l});var n=r(667294),a=r(581722),o=r(629972),i=r(487038);function l(e){let{name:t,optionsKey:r}=e,l=t===o.fY,s=(0,i.MA)(),c=s?.get(t,r);if(c)throw c;let u=e=>e[t]?.[r],d=(0,a.v9)(({resources:e})=>u(e)?.nextBookmark),f=(0,a.v9)(({resources:e})=>u(e)?.data),_=(0,a.v9)(({resources:e})=>u(e)?.auxData),p=(0,a.v9)(({resources:e})=>u(e)?.error),h=(0,n.useRef)({auxData:void 0,data:void 0,error:void 0,isAtEnd:!1,nextBookmark:void 0});if(l)return h.current;let m={auxData:_,data:f,error:p,isAtEnd:d===o.qx,nextBookmark:d};return(m.auxData!==h.current.auxData||m.data!==h.current.data||m.error!==h.current.error||m.isAtEnd!==h.current.isAtEnd||m.nextBookmark!==h.current.nextBookmark)&&(h.current=m),h.current}},890678:function(e,t,r){r.d(t,{Z:()=>o});var n=r(629972),a=r(957547);function o(e){let{enabledRouteRefresh:t,headers:r,name:o,noCache:i,options:l,schema:s}=e??{name:n.fY,options:null},c=!e,{fetchResource:u,ref:d,fetchMore:f,isFetching:_,isLoaded:p,isRefreshing:h,refresh:m}=(0,a.Z)({enabledRouteRefresh:t,headers:r,name:o,noCache:i,options:l,schema:s},c,!1);return c||u(),{ref:d,fetchMore:f,isFetching:_,isLoaded:p,isRefreshing:h,refresh:m}}},317109:function(e,t,r){r.d(t,{Z:()=>s});var n=r(686659),a=r(667294),o=r(653015);function i({children:e}){if("undefined"==typeof window)throw Error(o.u);return e}var l=r(785893);function s({children:e,fallback:t}){return(0,a.useEffect)(()=>{(0,n.Z)("SafeSuspense","/app/packages/safe-suspense/SafeSuspense.tsx")},[]),(0,l.jsx)(a.Suspense,{fallback:t,children:(0,l.jsx)(i,{children:e})})}},825605:function(e,t,r){r.d(t,{Z:()=>n});let n=r(317109).Z},405897:function(e,t,r){r.d(t,{i:()=>n});let n={AC:"ac",AUTOCOMPLETE:"autocomplete",BOARD:"blp",CONTENT_TYPE_FILTER:"content_type_filter",DIRECT_NAVIGATION:"direct_navigation",FILTER:"filter",GUIDED_SEARCH_ENTRY:"guided_search_entry",GUIDED_SEARCH_LANDING:"guided_search_landing",HASHTAG_CLOSEUP:"hashtag_closeup",HASHTAG_PINREP:"hashtag_pinrep",HOMEFEED_BUBBLE:"homefeed_bubble",HUB_PAGE:"hub_page",IDEAS_ROOT:"ideas_root",IMAGE_ONLY_ATTRIBUTION:"image_only_attribution",LANDING_PAGE_STORY:"landing_page_story",NO_RESULTS_SEARCH_STORY:"no_results_search_story",PRODUCT:"product",REMOVE:"remove",RS:"rs",SHOPPING_FILTER:"shopping_filter",SITELINKS_SEARCHBOX:"sitelinks_searchbox",SLP_REC_CURATED:"slp_rec_curated",SLP_REC_TRENDING:"slp_rec_trending",SRS:"srs",STRUCTURED_GUIDE:"structured_guide",TRENDING:"trending",TYPED:"typed",TYPO_AUTO_ORIGINAL:"typo_auto_original",TYPO_SUGGESTION:"typo_suggestion",UNKNOWN:"Unknown",URECS:"urecs",VANILLA_GUIDE:"guide",VIDEO:"video",VOICE_SEARCH:"voice_search"}},907049:function(e,t,r){function n(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;let r=Object.keys(e),n=Object.keys(t);return r.length===n.length&&r.every(r=>e[r]===t[r])}r.d(t,{Z:()=>n})},233550:function(e,t,r){r.d(t,{l:()=>o,r:()=>i});var n=r(667294);let a=(0,n.createContext)(null),o=()=>(0,n.use)(a),i=a},923298:function(e,t,r){r.d(t,{Z:()=>o});var n=r(818244),a=r(233550);let o=()=>{let e=(0,n.g)(),t=(0,a.l)();return r=>{let{mobileOptions:n,desktopOptions:a,reason:o,attributionLabel:i,pinId:l,savePinImageUrl:s}=r;e?e.showDesktopSignupModal({signupFlow:a?.modalType==="login"?{type:"login"}:{type:"signup"},reason:o,attributionLabel:i,savePinId:l,savePinImageUrl:s,...a?.modalOptions}):t&&t.showMobileSignupModal({reason:o,attributionLabel:i,headingType:n?.headingType??"none",pinId:l,savePinImageUrl:s})}}},187197:function(e,t,r){function n(e){return e.toLowerCase().charAt(0).toUpperCase()+e.toLowerCase().slice(1)}r.d(t,{Z:()=>n})},336320:function(e,t,r){function n(e=5){let t="abcdefghijklmnopqrstuvwxyz1234567890";return Array(e).fill("").map(()=>t[Math.floor(Math.random()*t.length)]).join("")}r.d(t,{Z:()=>n})},680589:function(e,t,r){r.d(t,{ZP:()=>n});function n(e,t=80,r="",a=!1){let o;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||a)o=e.substring(0,t);else{let r=e.lastIndexOf(" ",t);o=e.substring(0,r)}return(o=o.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""))+r}},141483:function(e,t,r){r.d(t,{Z:()=>l,h:()=>i});var n=r(172045),a=r(17314);function o(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let i="undefined"!=typeof window&&window.performance&&window.performance.now?()=>Math.floor((window.performance.timeOrigin+window.performance.now())*1e6):()=>1e6*Date.now(),l=class{constructor(e){o(this,"start",()=>(this.startTime=i(),this.startTime)),o(this,"end",()=>(this.endTime=i(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration));try{this.uuid=(0,n.Z)()}catch(e){this.uuid=(0,a.Z)()}e&&Object.assign(this,e)}}},380938:function(e,t,r){r.d(t,{Z:()=>l});var n=r(686659),a=r(667294),o=r(740097),i=r(785893);function l({ariaHidden:e=!1,color:t,size:r}){return(0,a.useEffect)(()=>{(0,n.Z)("Dot","/app/packages/ui/Dot.tsx")},[]),(0,i.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,i.jsx)(o.xe,{color:t,inline:!0,size:r??"200",children:""})})}},197908:function(e,t,r){r.d(t,{Z:()=>o});var n=r(854897),a=r(99737);let o=e=>{let t=/^\/pin\/([a-zA-Z0-9-]+)/,r=(0,a.Z)(e);if(t.test(r.path)){let e=r.path.match(t);if(e)return(0,n.Z)(e[1]).pinId||void 0}}},127051:function(e,t,r){r.d(t,{Z:()=>a});var n=r(629724);let a=({url:e})=>{if(e){let t=e.split("?");if(t[1])return(0,n.Z)(t[1])}return(0,n.Z)()}},49629:function(e,t,r){r.d(t,{Z:()=>a});var n=r(755725);let a=({url:e})=>{let t=(0,n.Z)("/");return 0===e.lastIndexOf(t,0)?e.substr(t.length-1):e}},854897:function(e,t,r){function n(e){if((e||"").includes("--")){let t=e.split("--"),r=t.pop();return{text:t.join("--"),pinId:r}}return{text:"",pinId:e}}r.d(t,{Z:()=>n})},893957:function(e,t,r){r.d(t,{Z:()=>a});var n=r(667294);let a=e=>{(0,n.useEffect)(e,[])}},64892:function(e,t,r){r.d(t,{GW:()=>a,RL:()=>n,s4:()=>o});let n="ios",a="android",o="ipad"},281213:function(e,t,r){r.d(t,{H:()=>c,W:()=>u});var n=r(667294),a=r(230201),o=r(213491),i=r(501010),l=r(785893);let{Provider:s,get:c}=(0,o.Z)("VideoPlayer");function u({children:e}){let{logContextEvent:t,logImpression:r}=(0,a.u)(),{checkExperiment:o}=(0,i.Z)(),[c,u]=(0,n.useState)(!1),[d,f]=(0,n.useState)([]),[_,p]=(0,n.useState)([]),[h,m]=(0,n.useState)({}),g=o("web_ads_mrc_video_impression").anyEnabled,b=e=>{m(t=>({...t,[e]:!0}))},y=(0,n.useCallback)(e=>{if(18===e.event_type&&e.event_data?.pinImpressions?.length){let{isNativeVideoAndWatchable:t}=e.event_data.pinImpressions[0],r=JSON.stringify(e.aux_data?.commerce_data||"").includes("story_pin_id");g&&(t||r)&&f(t=>[...t,e].slice(-1e3))}},[g]),v=(0,n.useCallback)(e=>{18===e.eventType&&g&&p(t=>[...t,e].slice(-1e3))},[g]);(0,n.useEffect)(()=>{let e=d.filter(e=>{let{pinIdStr:r}=e.event_data.pinImpressions[0];return!h[r]||!g||(t((e=>{let{time:t}=e.event_data.pinImpressions[0];return{...e,event_data:{...e.event_data,pinImpressions:[{...e.event_data.pinImpressions[0],isMrcBtr:!0,endTime:t,renderDuration:0}]}}})(e)),!1)});e.length!==d.length&&f(e)},[d,g,t,h]),(0,n.useEffect)(()=>{let e=_.filter(e=>{let t=e.eventData?.pinIdStr;if(!t)return!1;if(h[t]&&g){let t=(e=>{if(e.eventData){let{time:t}=e.eventData;return{...e,eventData:{...e.eventData,isMrcBtr:!0,endTime:t??0}}}return null})(e);return t&&r(t),!1}return!0});e.length!==_.length&&p(e)},[_,g,r,h]);let E=(0,n.useMemo)(()=>({captionsEnabled:c,logMrcVideoAdImpressionOnPlay:v,logMrcVideoAdEventOnPlay:y,setCaptionsEnabled:u,setVideoPlayed:b,videosPlayed:h}),[c,y,v,h]);return(0,l.jsx)(s,{value:E,children:e})}},764682:function(e,t,r){r.d(t,{$f:()=>a,Cy:()=>s,DR:()=>n,Fm:()=>l,bR:()=>i,gJ:()=>o,lG:()=>c});let n=1,a=2,o=1e3,i=1e3,l=1e3,s=Object.freeze({DEFAULT:0,LOAD_START:1,LOADED_METADATA:2,LOADED_DATA:3,PLAYING:4,PAUSED:5,SEEKING:6,STALLING:7,FAILED:8,ENDED:9}),c=Object.freeze({MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4})},473156:function(e,t,r){function n(e){let t;switch(e){case 1:t=1;break;case 2:t=2;break;case 3:t=3;break;case 4:t=4;break;case 5:t=5;break;case 6:t=6;break;case 9:t=9}return t}r.d(t,{Z:()=>n})},190914:function(e,t,r){r.d(t,{r:()=>g,W:()=>m});var n=r(667294),a=r(213491),o=r(935059),i=r(661376),l=r(739258),s=r(15881),c=r(418282),u=r(640200);let d=e=>{let t={};for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&("object"!=typeof e[r]||null===e[r]||Array.isArray(e[r])?t[(0,u.Z)(r)]=e[r]:t[(0,u.Z)(r)]=d(e[r]));return t},f={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},_=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}};var p=r(785893);let{Provider:h,getMaybe:m}=(0,a.Z)("RoleBasedAccessControlContext"),g=({children:e})=>{let t=(0,o.Z)(),r=!!(t.isAuth&&t.isPartner),{state:a,actions:u,receiveProfiles:m}=(e=>{let[t,r]=(0,n.useReducer)(_,f),a=(({dispatch:e,isEnabled:t,state:r})=>{let{orbacVisibility:a,disableProfileChanger:o,headerVisible:i}=r,l=(0,n.useCallback)(r=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:r})},[t,e]);return{changeProfile:l,toggleORBACVisibility:(0,n.useCallback)(r=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:r??!a})},[t,e,a]),toggleDisableProfileChanger:(0,n.useCallback)(r=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:r??!o})},[t,e,o]),toggleHeaderVisibility:(0,n.useCallback)(r=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:r??!i})},[t,e,i])}})({dispatch:r,isEnabled:e,state:t}),{activeProfile:o,orbacVisibility:i}=t;return(0,n.useEffect)(()=>{let e=(0,c.Nl)().getItem(s.Zo)||!1;e&&r({type:"SET_ACTIVE_PROFILE",payload:e})},[]),(0,n.useEffect)(()=>{let e=(0,c.Nl)().getItem(s.ig)||!1;e&&r({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})},[]),(0,n.useEffect)(()=>{(0,c.Nl)().setItem(s.ig,i)},[i]),(0,n.useEffect)(()=>{(0,c.Nl)().setItem(s.Zo,o)},[o]),{state:t,actions:a,receiveProfiles:(0,n.useCallback)((e,t)=>{r({type:"LOAD_PROFILES",payload:((e,t)=>{let r=[];for(let n in e)n!==t&&r.push({id:n,...d(e[n])});let n=r.sort(({user:{businessName:e}},{user:{businessName:t}})=>e.localeCompare(t)),a=new Map;for(let e of n)a.set(e.id,e);return a})(e,t)})},[r])}})(r),{activeProfile:g,headerVisible:b,profiles:y}=a,v=(0,n.useMemo)(()=>y?Array.from(y.values()):[],[y]),E=(0,l.Z)(v),S=!!t.isAuth&&v.length>0&&E,w=t.isAuth?t.id:"",P=t.isAuth?t.username:"",{changeProfile:x,toggleORBACVisibility:T,toggleDisableProfileChanger:A,toggleHeaderVisibility:I}=u;(0,n.useEffect)(()=>{if(r){if("string"==typeof E)return void x(E);g||x(w)}},[E,w,r,x,g]),(0,n.useEffect)(()=>{r&&(S&&!b&&I(!0),!S&&b&&I(!1))},[I,S,r,b,y]);let{data:R}=(0,i.Z)(r?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null),O=R?.profiles,C=(0,n.useMemo)(()=>t&&t.isAuth&&g===t.id?{id:t.id,permissions:["OWNER"],user:{username:P,businessName:t.fullName,imgUrl:t.imageSmallUrl}}:g&&y?y.get(g):void 0,[g,y,t,P]);(0,n.useEffect)(()=>{O&&m(O,w)},[m,O,w]);let k=(0,n.useMemo)(()=>({profiles:v,headerVisible:b,activeProfile:C,changeProfile:x,toggleORBACVisibility:T,toggleDisableProfileChanger:A,toggleHeaderVisibility:I}),[v,b,C,x,T,A,I]);return(0,p.jsx)(h,{value:k,children:e})}},200619:function(e,t,r){r.d(t,{Z:()=>s});var n=r(667294),a=r(501010),o=r(190914),i=r(739258);let l=Object.freeze({}),s=()=>{let{checkExperiment:e}=(0,a.Z)(),t=(0,o.W)(),{activeProfile:r}=t||{},s=(0,i.Z)(t?.profiles||[]),{anyEnabled:c}=e("useorbacroutematcher_in_useorbacactingas");return(0,n.useMemo)(()=>c&&!s?l:r&&(r.viewerMeetsMfaRequirement||(r.permissions||[]).includes("OWNER"))?r:l,[c,s,r])}},739258:function(e,t,r){r.d(t,{Z:()=>l});var n=r(312048),a=r(935059),o=r(173874),i=r(228612);let l=e=>{let t=(0,n.TH)(),r=(0,a.Z)(),l=(0,i.S6)(),s=(0,n.bS)("/:username"),c=(0,n.bS)("/:username/*"),u=(s||c)?.params?.username,d=(0,n.bS)("/pin/:id"),f=(0,n.bS)("/pin/:id/*"),_=d||f,p=!!_?.params?.id&&l(_.params.id)?.pinner?.id;if((0,o.isSettingsPage)(t))return!1;if((0,o.isPinBuilderPage)(t)||(0,o.isStoryPinBuilderPage)(t))return!0;let h=[...e,...r.isAuth?[{user:{username:r.username},id:r.id}]:[]].find(e=>{if(!e)return!1;let{user:t,id:r}=e;return(!!t&&"username"in t&&!!t.username&&!!u||!!p&&!!r)&&(t.username===u||p===r)});return!!h&&h.id}},601871:function(e,t,r){r.d(t,{D3:()=>d,DX:()=>c,Fk:()=>n,KY:()=>f,Ms:()=>a,N1:()=>_,_P:()=>s,gJ:()=>o,lJ:()=>l,nl:()=>i,q6:()=>u});let n=(e,t)=>{let r=e&&e.isAuth?e.fullName:"";return e&&t&&t.user&&t.user.businessName&&(r=t.user.businessName),r},a=(e,t)=>{let r=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(r=t.user.username),r},o=(e,t)=>{let r=e&&e.isAuth?e.imageMediumUrl:"";return e&&t&&t.user&&t.user.imgUrl&&(r=t.user.imgUrl),r},i=(e,t)=>!!(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),l=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",s=(e,t,r)=>r&&r.user&&t&&t.isAuth&&r.id!==t.id?r.user.merchantId:e.advertiser?.merchant_id,c=(e,t,r)=>r&&r.user&&e.isAuth&&r.id!==e.id?r.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0,u=(e,t,r)=>!!(e&&e.isAuth&&r&&r.id&&r.id!==e.id&&r.id===t),d=(e,t,r)=>!!(u(e,t,r)||e&&e.isAuth&&t===e.id),f=(e,t,r)=>d(e,t&&t.owner&&t.owner.id||"",r);function _(e,t,r){return d(e,t?t.id:"",r)}},338065:function(e,t,r){r.d(t,{Z:()=>I});var n,a=r(686659),o=r(667294);r(167912);var i=r(740097),l=r(104999),s=r(935059),c=r(183e3),u=r(24246),d=r(501010),f=r(923298),_=r(935833),p=r(736328),h=r(577356),m=r(473687),g=r(671220),b=r(739405),y=r(893957),v=r(229127),E=r(120100),S=r(157498),w=r(512324),P=r(529312),x=r(785893);let T=({children:e,pulsar:t,testId:r})=>t.show?(0,x.jsx)(i.xu,{"data-test-id":r,position:"relative",children:(0,x.jsxs)(i.iP,{onTap:t.onClick,tapStyle:"none",children:[(0,x.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},marginTop:-5,position:"absolute",children:e}),(0,x.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},marginTop:-12,position:"absolute",children:(0,x.jsx)(i.o3,{})})]})}):(0,x.jsx)(i.xu,{"data-test-id":r,children:e}),A=(void 0!==n||(n=r(453217)).hash&&"cabaa35ed7d59dee006897bf3ef32e3d"!==n.hash&&console.error("The definition of 'FollowButton_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function I({auxData:e,disabled:t,disableLog:r,followEventType:n,id:I,inline:R,invertColors:O,isFollowed:C,isIdeaPin:k,isLegoEnabled:N,isSecondaryButton:D,isUserFollowButton:L,isUserMe:Z,onFollow:j,onUnfollow:U,pinKey:M,shouldUseLegoColors:F,showPulsar:B,size:z,textType:V="FollowFollowing",unfollowEventType:H,viewParameter:G,viewType:$,clientTrackingParams:K}){let W;(0,o.useEffect)(()=>{(0,a.Z)("FollowButton","/app/www/FollowButton.tsx")},[]);let q=(0,u.Z)(),Y=(0,b.HG)(),{showToast:J}=(0,h.dI)(),X=(0,p.Z)(),Q=(0,l.Z)(),ee=(0,f.Z)(),{checkExperiment:et}=(0,d.Z)(),er=(0,E.Z)(),en=(0,s.Z)(),ea=en&&en.isAuth,{unauthFollowUserId:eo,setUnauthFollowUserId:ei}=(0,P.A)(),el=(0,S.mN)()(I),es=(0,m.Z)(),[ec,eu]=(0,o.useState)(C),ed=el&&{imageMediumUrl:el.image_medium_url,username:el.username},ef=(0,c.Z)(A,M),e_=ef?.linkDomain,ep=ef?.nativeCreator,eh=ef?.originPinner,em=ef?.pinner;W=ep||(e_?e_.officialUser:eh||em);let eg=ed??W;(0,y.Z)(()=>{!Y&&ea&&eo&&I&&eo===I&&j(I)});let eb=er({fn:()=>{if(ea)ec?(U(I),eu(!1),r||Q({event_type:H,view_type:$,view_parameter:G,object_id_str:I,aux_data:e,clientTrackingParams:K})):(j(I),eu(!0),L&&J(({hideToast:e})=>{let t=eg?.username?`/${eg.username}/`:"";return(0,x.jsx)(w.Z,{handleHide:e,href:t,imageUrl:eg?.imageMediumUrl||"",text:(0,x.jsx)(i.xv,{lineClamp:4,children:q._('Following! Their created Pins will show up in your home feed!', 'followButton.follow.informationalToastText', 'Text explaining that a creator\'s Pins will show up in home feed after follow')}),userId:I})}),r||Q({event_type:n,view_type:$,view_parameter:G,object_id_str:I,aux_data:e,clientTrackingParams:K}));else{if((0,_.NC)(ec?"press_profile_unfollow":"press_profile_follow"),X({action:"click",item:ec?"unfollow-button":"follow-button"}),et("migration_upsell_manager_redux").anyEnabled||et("migration_upsell_manager_redux_dweb").anyEnabled||et("migration_upsell_manager_redux_mweb").anyEnabled||et("migration_upsell_manager_redux_dweb_global").anyEnabled||et("migration_upsell_manager_redux_mweb_global").anyEnabled)if(Y){let e=et("pcons_dweb_contextual_follow_modal").anyEnabled;es((0,g.b9)(!!k,e))}else{let e=et("pcons_mweb_contextual_follow_modal").anyEnabled;es((0,g.Jw)(!!k,e))}else ee({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:k?"click_idea_pin_follow":"click_follow",desktopOptions:{modalType:"signup",modalOptions:Y&&et("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!Y&&et("pcons_mweb_contextual_follow_modal").anyEnabled?{headingType:"follow"}:void 0});Y||ei(I??""),(0,_.NC)("clickthrough")}},modalHeader:(0,v.N4)({i18n:q,toFollow:!ec})}),ey=!ec&&!!B,ev=()=>{if(Z)return q._('That\'s you!', 'Follow button is disabled because this is you', 'Follow button is disabled because this is you');if("AddRemove"===V)return ec?q._('Remove', 'unfollowButton.removeText', 'Follow button label - followed state, so user can click to "remove" the follow'):q._('Add', 'followButton.addText', 'Follow button label - unfollowed state, so user can click to "add" the follow');let e="FollowUnfollow"===V?q._('Unfollow', 'unfollowButton.unfollowText', 'Follow button label - followed state, so user can click to "unfollow" the follow'):q._('Following', 'Follow button label - followed state', 'Follow button label - followed state');return ec?e:q._('Follow', 'Follow button label - unfollowed state', 'Follow button label - unfollowed state')};return(0,x.jsx)(T,{pulsar:ey?{show:!0,onClick:eb}:{show:!1},testId:Z||ec?"board-unfollow-button":"board-follow-button",children:(0,x.jsx)(i.zx,{accessibilityLabel:ev(),color:F||"AddRemove"===V||!N&&D||O?"gray":"red",disabled:Z||t,fullWidth:R,onClick:ey?void 0:({event:t})=>{t.preventDefault(),t.stopPropagation(),r||Q({event_type:101,component:13672,element:11951,object_id_str:I,view_type:$,view_parameter:G,aux_data:e,clientTrackingParams:K}),eb()},selected:ec||!1,size:z,text:ev()})})}},550759:function(e,t,r){r.d(t,{Z:()=>s});var n=r(686659),a=r(667294),o=r(740097),i=r(24246),l=r(785893);let s=({isInModal:e})=>{(0,a.useEffect)(()=>{(0,n.Z)("FullPageSpinner","/app/www/FullPageSpinner.tsx")},[]);let t=(0,i.Z)();return(0,l.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, .5)"}},display:"flex",height:"100%",justifyContent:"center",left:!0,position:e?"absolute":"fixed",top:!0,width:"100%",zIndex:new o.Ry(1),children:(0,l.jsx)(o.xH,{accessibilityLabel:t._('Loading', 'Full page loading state', 'Full page loading state'),show:!0})})}},277455:function(e,t,r){r.d(t,{C:()=>s,R:()=>l});var n=r(667294),a=r(213491),o=r(785893);let{Provider:i,get:l}=(0,a.Z)("MostRecentPin");function s({children:e}){let[t,r]=(0,n.useState)(),[a,l]=(0,n.useState)(),s=(0,n.useCallback)(e=>{l([e].concat((a?a.slice(0,10):[]).filter(t=>t!==e)))},[a]),c=(0,n.useMemo)(()=>({id:t,plpImageSignatures:a,setMostRecentPinId:r,setMostRecentPinImage:s}),[t,a,s]);return(0,o.jsx)(i,{value:c,children:e})}},716848:function(e,t,r){r.d(t,{H:()=>n,J:()=>a});let{Provider:n,getMaybe:a}=(0,r(213491).Z)("PinCreateDeleteContext")},285676:function(e,t,r){r.d(t,{r:()=>R,Z:()=>I});var n,a,o,i,l,s=r(686659),c=r(667294);r(167912);var u=r(2171),d=r(470205),f=r(935059),_=r(707855),p=r(183e3),h=r(917569),m=r(890678),g=r(739405),b=r(666172),y=r(914253),v=r(228612),E=r(785893);let S=(void 0!==n||(n=r(46354)).hash&&"bb4e0fc2e1a319a6b7c65cb9ad5c8cb6"!==n.hash&&console.error("The definition of 'UnifiedPinRep_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),w=(void 0!==a||(a=r(748100)).hash&&"cf7ae619f5ec8cf58cf3302e69136b1d"!==a.hash&&console.error("The definition of 'UnifiedPinRepVariant_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),P=(void 0!==o||(o=r(128851)).hash&&"970c9e8a0b93cdd43095e6934563c7eb"!==o.hash&&console.error("The definition of 'UnifiedPinRepVariant_parentPin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o),x=(void 0!==i||(i=r(268047)).hash&&"4706485911e34fec99070a2a4c272d94"!==i.hash&&console.error("The definition of 'UnifiedPinRepDefaultPinRep_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),T=(void 0!==l||(l=r(64219)).hash&&"cb2594cad81be6eec825977b7bcb2003"!==l.hash&&console.error("The definition of 'UnifiedPinRepDefaultPinRep_parentPin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),A=e=>{var t,r,n,a;let{pinId:o,pinKey:i,parentPinKey:l,hideContextMenu:s,hideSendButton:f,hideEditButton:h,...m}=e,g=i&&"GraphQL"===(0,_.o)(i),S=(0,p.Z)(x,i),w=(0,p.Z)(T,l),P=(0,v.S6)()(o),A=(0,y.gC)(),I=(t=!!g,S||t?S:P?{type:"Legacy",data:P}:null),R=(0,u.Z)(),O=(0,c.useMemo)(()=>P?{type:"Legacy",data:P}:null,[P]),C=S||g||!R?I:O;return C&&(0,E.jsx)(d.Z,{name:"DefaultPinRep",type:"critical",children:(0,E.jsx)(c.Suspense,{children:(0,E.jsx)(b.Z,{...m,boardKey:(r=!!g,n=S?.pinnedToBoard||S?.board||null,a=A(P?.pinned_to_board?.id||P?.board?.id||""),r?n??null:a?{type:"Legacy",data:a}:null),hideContextMenu:s,hideEditButton:h,hideSendButton:f,parentPinKey:w,pinKey:C})})})};function I({duploQueryRef:e,...t}){(0,c.useEffect)(()=>{(0,s.Z)("UnifiedPinRep","/app/www/PinRep/UnifiedPinRep.tsx")},[]);let r=(0,p.Z)(S,e),n=(0,f.Z)(),a=(0,g.HG)(),o=(0,h.Z)();return(0,m.Z)(n.isAuth&&a&&o()?{name:"BoardPickerBoardsResource",options:{field_set_key:"board_picker"}}:null),(0,E.jsx)(A,{...t,parentPinKey:null,pinKey:r})}function R({pinKey:e,parentPinKey:t,...r}){(0,c.useEffect)(()=>{(0,s.Z)("UnifiedPinRep","/app/www/PinRep/UnifiedPinRep.tsx")},[]);let n=(0,p.Z)(w,e),a=(0,p.Z)(P,t);return(0,E.jsx)(A,{...r,parentPinKey:a,pinKey:n})}},798385:function(e,t,r){r.d(t,{Z:()=>a});var n=r(157498);function a(){let e=(0,n.dM)();return Object.keys(e).reduce((t,r)=>{let n=e[r];return t[n.username]=n,t},{})}},228612:function(e,t,r){r.d(t,{EQ:()=>s,JC:()=>l,S6:()=>c,_S:()=>u});var n=r(581722),a=r(213491),o=r(785893);let{Provider:i,get:l,getMaybe:s}=(0,a.Z)("Pins");function c(){let e=l();return t=>e[t]}function u({children:e}){let t=(0,n.v9)(({pins:e})=>e,n.wU);return(0,o.jsx)(i,{value:t,children:e})}},157498:function(e,t,r){r.d(t,{LO:()=>d,cm:()=>u,dM:()=>s,kY:()=>f,mN:()=>c});var n=r(581722),a=r(213491),o=r(935059),i=r(785893);let{Provider:l,get:s}=(0,a.Z)("Users");function c(){let e=s();return t=>e[t]}function u(){let e=s();return(t,r=!1)=>{let n=Object.keys(e).find(r=>e[r].username===t);if(n||!r)return e[n??""]}}function d(){let e=(0,o.Z)();return s()[e.isAuth?e.id:""]}function f({children:e}){let t=(0,n.v9)(({users:e})=>e,n.wU);return(0,i.jsx)(l,{value:t,children:e})}},488598:function(e,t,r){r.d(t,{Z:()=>_,j:()=>f});var n=r(686659),a=r(667294),o=r(740097),i=r(798492),l=r(712156),s=r(24246),c=r(216975),u=r(501010),d=r(785893);let f=[0,2,3];function _({hasAffiliateProducts:e,hasAffiliateLink:t,href:r,isPromoted:_,onNavigateSponsorClick:p,sponsorName:h,sponsorUsername:m,sponsorshipStatus:g,textWeight:b="bold",isGrid:y,affiliateDisclosure:v}){let E;(0,a.useEffect)(()=>{(0,n.Z)("SponsorshipText","/app/www/SponsorshipText/SponsorshipText.tsx")},[]);let S=(0,s.Z)(),{checkExperiment:w}=(0,u.Z)(),P=w("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled,x=(0,l.Z)(),{inAffiliateDisclosureEnabled:T}=(0,i.Z)(),A=r||(m?`/${m}/`:null),I=A&&h?(0,d.jsx)(o.xv,{__dangerouslyOverrideLineHeight:x,size:"200",weight:b,children:(0,d.jsx)(o.rU,{dataTestId:"sponsorship-text-link",href:A,onClick:p,children:h})},h):void 0,R=P&&!_&&"Ad  "||"";return _?E=(0,c.nk)(S._('Promoted by {{ name }}', 'sponsorship.sponsorshipText.promotedByBrand', 'indicating the username of the person who promoted the pin'),{name:I}):g||0===g?h&&!f.includes(g)?E=(0,c.nk)(S._('Paid partnership with {{ name }}', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when sponsored by a brand'),{name:I}):2!==g&&(E=S._('Paid partnership', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated')):!y&&(t||e)&&(E=T?v:S._('Paid link', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products'),R=""),(0,d.jsxs)(o.xv,{__dangerouslyOverrideLineHeight:x,color:"subtle",inline:!0,lineClamp:2,size:"200",children:[R,E]})}},529312:function(e,t,r){r.d(t,{A:()=>l,w:()=>s});var n=r(667294),a=r(213491),o=r(785893);let{Provider:i,get:l}=(0,a.Z)("Session");function s({children:e}){let[t,r]=(0,n.useState)(void 0),a=(0,n.useCallback)(()=>r(void 0),[]),l=(0,n.useMemo)(()=>({unauthFollowUserId:t,setUnauthFollowUserId:r,removeUnauthFollowUserId:a}),[t,a]);return(0,o.jsx)(i,{value:l,children:e})}},157997:function(e,t,r){r.d(t,{D:()=>c,h:()=>s});var n=r(686659),a=r(667294),o=r(501010),i=r(785893);let l=(0,a.createContext)(!1);function s({children:e}){(0,a.useEffect)(()=>{(0,n.Z)("LayoutRedesignContext","/app/www/VisualSearch/LayoutRedesignContext.tsx")},[]);let{checkExperiment:t}=(0,o.Z)(),{anyEnabled:r}=t("web_image_search_redesign");return(0,i.jsx)(l.Provider,{value:r,children:e})}function c(){return(0,a.use)(l)}},832333:function(e,t,r){r.d(t,{Z:()=>d});var n=r(686659),a=r(667294),o=r(740097),i=r(785893);function l(e){return`${Math.min(100*e,100)}%`}function s({customCover:e,imgPos:t,imgUrl:r}){let[n,o]=(0,a.useState)({height:0,loaded:!1,width:0}),{height:i,loaded:s,width:c}=n;if((0,a.useEffect)(()=>{let e=new Image;e.onload=()=>{o({height:e.naturalHeight,loaded:!0,width:e.naturalWidth})},e.src=r},[r]),!e||!t||!i||!c)return{loaded:s,position:"center center"};let u=c-t.width,d=i-t.height,f=u>0?l(t.x/u):"center",_=d>0?l(t.y/d):"center";return{loaded:s,position:`${f} ${_}`}}function c(e){let{loaded:t,position:r}=s(e),{imgUrl:n}=e,a={backgroundImage:`url(${n})`,backgroundPosition:r,backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:"100%",backgroundColor:"#EFEFEF",position:"relative"};return(0,i.jsx)(o.xu,{"data-test-id":"cover-image-box",height:"100%",width:"100%",children:t&&(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:a},"data-test-id":"cover-image",children:(0,i.jsx)("div",{className:"imageWash",style:{position:"absolute"}})})})}function u(e){let{loaded:t,position:r}=s(e),{alt:n,color:a,imgUrl:l}=e;return(0,i.jsx)(o.zd,{height:"100%",width:"100%",children:t&&(0,i.jsx)("img",{alt:n||"",src:l,style:{backgroundColor:a||"#EFEFEF",fetchPriority:"cover",height:"100%",loading:"auto",objectFit:"cover",objectPosition:r,width:"100%"}})})}function d(e){(0,a.useEffect)(()=>{(0,n.Z)("CoverImage","/app/www/board/CoverImage.tsx")},[]);let{renderAsImage:t}=e;return t?(0,i.jsx)(u,{...e}):(0,i.jsx)(c,{...e})}},748261:function(e,t,r){r.d(t,{Z:()=>P});var n,a,o=r(686659),i=r(667294);r(244311);var l=r(740097),s=r(183e3),c=r(24246),u=r(78835),d=r(501010),f=r(774838),_=r(739405),p=r(594502),h=r(464094),m=r(832333),g=r(785893);function b({backgroundColor:e="darkGray",iconColor:t="inverse",iconSize:r,privacy:n,size:a=20}){(0,i.useEffect)(()=>{(0,o.Z)("PrivacyIcon","/app/www/board/duplo/PrivacyIcon.tsx")},[]);let s=(0,c.Z)();return(0,g.jsx)(l.xu,{alignItems:"center",color:e,direction:"column",display:"flex",height:a,justifyContent:"center",rounding:"circle",width:a,children:(0,g.jsx)(l.JO,{accessibilityLabel:s._('Secret board icon', 'Icon indicating that a board is secret', 'Icon indicating that a board is secret'),color:t,icon:"secret"===n?"lock":"security",size:r??a/2})})}var y=r(227866),v=r(235623);let E=(void 0!==n||(n=r(53713)).hash&&"0e2c441822700a6145ea7cd142c0425b"!==n.hash&&console.error("The definition of 'DrawerImageGroup_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),S=(void 0!==a||(a=r(943751)).hash&&"35b139c2e951baaa6624b30e45f913ce"!==a.hash&&console.error("The definition of 'DrawerImageGroup_coverPin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),w="100%";function P(e){(0,i.useEffect)(()=>{(0,o.Z)("DrawerImageGroup","/app/www/board/DrawerImageGroup.tsx")},[]);let t=(0,c.Z)(),{boardKey:r,canEdit:n,containerBackgroundColor:a="white",coverPhoto:P,coverPinKey:x,fullSize:T,hideSecretBoardIcon:A,images:I,isActive:R,isHomePageBoards:O,isProtected:C,isSecret:k,layout:N,onEditClick:D,renderAsImage:L,showSensitivityScreen:Z}=e,j=(0,_.HG)(),{isRTL:U,isAuthenticated:M}=(0,f.B)(),F=(0,s.Z)(E,r),B=(0,s.Z)(S,x),z=(0,i.useRef)(null),V=j&&M,{checkExperiment:H}=(0,d.Z)(),[G,$]=(0,i.useState)(!1);(0,i.useEffect)(()=>{R&&V&&F&&!k&&!G&&$(H("ce_dweb_board_preview_share_button").anyEnabled)},[R,V,F,k,G,H]);let K=(0,i.useRef)(void 0);(0,i.useEffect)(()=>{R?K.current&&(clearTimeout(K.current),K.current=void 0):K.current||(K.current=window.setTimeout(()=>{K.current=void 0,R||$(!1)},200))},[R]),(0,i.useEffect)(()=>()=>{K.current&&clearTimeout(K.current)},[]);let W=I[0],q=!P&&I[0]?.name||t._('Cover image', 'DrawerImageGroup', 'Alt text for the main image of a board'),Y=[,,].fill(0),J=new l.Ry(1),X="square"===N?h.M0:h.z9,Q="square"===N?h.FP:h.FC,ee=W?.url?(0,g.jsx)(l.Ee,{alt:q,color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:W.url}):(0,g.jsx)(l.xu,{color:"secondary",height:"100%",width:"100%"}),et=Z?{filter:"blur(20px)"}:{};return(0,g.jsxs)(l.zd,{height:T?"100%":void 0,rounding:4,width:"100%",children:[(0,g.jsxs)(l.kC,{alignItems:"stretch",direction:"row",height:"100%",justifyContent:"start",children:[(0,g.jsx)(l.sg,{span:8,children:(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:et},height:T?"100%":void 0,position:"relative",children:(0,g.jsx)(l.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:w}},overflow:"hidden",width:"100%",children:(0,g.jsxs)(l.xu,{ref:z,bottom:!0,dangerouslySetInlineStyle:{__style:{borderColor:O?"#FFDFE9":a,borderStyle:"solid",borderWidth:"1px 0 1px 1px",borderRadius:"16px 0 0 16px"}},"data-test-id":"drawer-image-group-first-image-container",left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:[(C||k)&&!A&&(0,g.jsx)(l.xu,{left:!U,margin:2,position:"absolute",right:U,top:!0,zIndex:J,children:(0,g.jsx)(b,{backgroundColor:"default",iconColor:"default",privacy:k?"secret":"protected",size:V?32:24})}),P?.url?(0,g.jsx)(l.zd,{height:"100%",wash:!0,width:"100%",children:(0,g.jsx)(m.Z,{customCover:P.isCustom,height:Q,imgPos:B?function(e){let{crop:t,size:r}=e||{};if(Array.isArray(t)&&Array.isArray(r))return{x:t[0]||0,y:t[1]||0,width:r[0]||0,height:r[1]||0}}(B):P.position||{width:0,height:0,x:0,y:0},imgUrl:B?.imageUrl??(P.url||""),renderAsImage:L,width:Math.floor(X/3*2)})}):ee]})})})}),(0,g.jsx)(l.sg,{span:4,children:(0,g.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:et},height:"100%",children:[(n||G)&&(0,g.jsxs)(l.xu,{bottom:!0,display:G?"flex":void 0,left:U,margin:2,opacity:+!!R,position:"absolute",right:!U,zIndex:J,children:[n&&(0,g.jsx)(l.iP,{onTap:({event:e})=>D?.(e),children:(0,g.jsx)(l.hU,{accessibilityLabel:t._('Edit', 'DrawerImageGroup.edit', 'Icon indicating that a board is editable'),bgColor:"white",icon:"edit",iconColor:"darkGray",size:"sm",tabIndex:-1})}),G&&(0,g.jsx)(l.iP,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation()},children:(0,g.jsx)(l.xu,{marginStart:1,children:(0,g.jsx)(v.Z,{boardKey:F,disableSelectedStyle:!0,handleCreatePincode:()=>{},iconColor:"darkGray",size:"sm"})})})]}),Y.map((e,t)=>{let r=P?I[t]:I[t+1];return(0,g.jsx)(l.xu,{height:T?"50%":void 0,position:"relative",children:(0,g.jsx)(l.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:w}},overflow:"hidden",width:"100%",children:(0,g.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{borderColor:O?"#FFDFE9":a,borderStyle:"solid",borderWidth:0===t?1:"0 1px 1px 1px",borderRadius:0===t?"0 16px 0 0":"0 0 16px 0"}},left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:r?.url?(0,g.jsx)(l.zd,{height:"100%",wash:!0,width:"100%",children:(0,g.jsx)(l.Ee,{alt:"",color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:r.url})}):(0,g.jsx)(l.xu,{color:"secondary",height:"100%",width:"100%"})})})},t)})]})}),Z&&(0,g.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.5)"}},display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:(0,g.jsx)(l.qd,{align:"center",color:"light",size:"400",children:t._('This board may contain sensitive content', 'drawerImageGroup.sensitivityScreen.heading', 'Warning text for a board that may have sensitive content')})})]}),(0,g.jsx)(p.Z,{visibility:R?"visible":"none",children:(0,g.jsx)(y.Z,{additionalStyles:{backgroundColor:u.Dv.LEGO_WASH}})})]})}},464094:function(e,t,r){r.d(t,{AC:()=>i,FC:()=>u,FP:()=>s,M0:()=>l,SA:()=>f,Xq:()=>d,Y_:()=>o,o2:()=>a,s0:()=>n,z9:()=>c});let n=44,a=40,o=49,i=69,l=236,s=157,c=320,u=213,d=7,f=["US","GB","CA","FR","DE","AT","CH","IT","ES","AU","BR","NL","MX"]},113759:function(e,t,r){r.d(t,{bq:()=>c,x4:()=>u});var n=r(686659),a=r(667294),o=r(15392),i=r(785893);let l={showCloseupContentRight:!0,showProductDetailPage:!1,viewportSize:"lg",paneWidth:o.Gg,maxWidth:o.u6,descriptionPaneWidth:o.u6-o.Gg,isCommentAttachmentSelectorOpen:!1,isCommentComposerFocused:!1,isCommentPopoverInteractionActive:!1,isCommentThreadExpanded:!1,isCloseupMediaViewerOpen:!1,isMediaViewerOpen:!1,isShoppingModuleExpanded:!1,closeupWithinMasonryEnabled:!1,peekCloseupEnabled:!1,calculatedImageHeight:0,setAbortNoActionPlacementTimeout:()=>{},setIsCloseupMediaViewerOpen:()=>{},setIsCommentAttachmentSelectorOpen:()=>{},setIsCommentComposerFocused:()=>{},setIsCommentPopoverInteractionActive:()=>{},setIsMediaViewerOpen:()=>{},setIsShoppingModuleExpanded:()=>{},setCalculatedImageHeight:()=>{},setViewportSize:()=>{}},s=(0,a.createContext)(l);function c({children:e,value:t}){(0,a.useEffect)(()=>{(0,n.Z)("Context","/app/www/closeup/desktop/Context.tsx")},[]);let r=(0,a.useMemo)(()=>({...l,...t}),[t]);return(0,i.jsx)(s,{value:r,children:e})}function u(){let e=(0,a.use)(s);if(!e)throw Error("useCloseupContext must be used within CloseupContextProvider");return e}},15392:function(e,t,r){r.d(t,{$T:()=>h,CI:()=>i,Ch:()=>s,E$:()=>w,ER:()=>p,Gb:()=>c,Gg:()=>a,Hf:()=>b,Id:()=>E,Ie:()=>d,KP:()=>f,Kn:()=>l,O5:()=>m,d2:()=>u,dm:()=>S,fF:()=>v,g9:()=>_,iB:()=>y,rv:()=>g,u6:()=>o});var n=r(740097);let a=508,o=1016,i=488,l=992,s=672,c=1176,u=40,d=72,f=740,_=32,p=16,h=24,m=2,g=1,b=new n.Ry(5),y={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"},v={boxShadow:"0 2px 5px rgba(0, 0, 0, 0.06)",transition:"box-shadow 200ms ease-in-out"},E="calc(90vh - 80px)",S="calc(55vh + 80px)",w="calc(75vh - 80px)"},667389:function(e,t,r){r.d(t,{O:()=>d,Z:()=>f});var n=r(686659),a=r(667294),o=r(740097),i=r(24246),l=r(247387),s=r(785893);let c=(0,a.lazy)(()=>r.e("38647").then(r.bind(r,541583))),u={xs:12,sm:16,md:20,lg:24};function d({children:e}){(0,a.useEffect)(()=>{(0,n.Z)("VerifiedBadge","/app/www/common/VerifiedBadge/VerifiedBadge.tsx")},[]);let t=(0,i.Z)();return(0,s.jsx)(o.u,{dataTestId:"verified-badge-tooltip",link:(0,s.jsx)(o.rU,{href:l.vBy,target:"blank",children:(0,s.jsx)(o.xe,{color:"inverse",size:"100",weight:"bold",children:t._('Learn more', 'verifiedBadge.tooltip.link', 'Learn more about Pinterest\'s Merchant Guidelines')})}),text:t._('This retailer meets Pinterest\'s Merchant Guidelines', 'merchantVerification.badge.tooltip', 'Badge indicating that a merchant or user is verified'),children:e})}function f({iconOnly:e,isVerifiedIdentity:t,isVerifiedMerchant:r,showText:l,size:f,inspirationalBadges:_,inspirationalBadgesColor:p}){(0,a.useEffect)(()=>{(0,n.Z)("VerifiedBadge","/app/www/common/VerifiedBadge/VerifiedBadge.tsx")},[]);let h=(0,i.Z)(),[m,g]=(0,a.useState)(!1);if(r){let r=(0,s.jsxs)(o.xu,{alignItems:"center","data-test-id":"verified-badge-icon",display:"flex",justifyContent:"start",children:[(0,s.jsx)(o.iP,{onTap:()=>g(!0),children:(0,s.jsx)(o.JO,{accessibilityLabel:h._('Merchant verification badge', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"info",icon:"check-circle-fill",inline:!0,size:u[f]})}),l&&(0,s.jsx)(o.xu,{marginStart:2,children:(0,s.jsx)(o.xe,{color:"default",inline:!0,weight:"bold",children:h._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})]});return(0,s.jsxs)(a.Fragment,{children:[e?r:(0,s.jsx)(d,{children:r}),!t&&!e&&m&&(0,s.jsx)(a.Suspense,{children:(0,s.jsx)(c,{inspirationalBadges:_,inspirationalBadgesColor:p,setShowModal:g,showModal:m})})]})}return t&&!r?(0,s.jsx)(o.JO,{accessibilityLabel:h._('Domain verification', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle-fill",size:u[f]}):null}},229127:function(e,t,r){r.d(t,{N4:()=>o,Wh:()=>n,hr:()=>a});let n=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),a=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),o=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},120100:function(e,t,r){r.d(t,{Z:()=>l});var n=r(24246),a=r(739405),o=r(36776),i=r(229127);let l=()=>{let e=(0,n.Z)(),t=(0,a.HG)(),{viewer:r,loginForMore:l,limitedLoginModalSubheader:s,limitedLoginModalNextLocation:c}=(0,o.m)();return"LIMITED_LOGIN"===r.type?({modalHeader:r,nextLocation:n})=>a=>{let o=null;a&&(a.nativeEvent&&a.nativeEvent instanceof Event?o=a:a.event&&(o=a.event)),o&&(o.preventDefault&&o.preventDefault(),o.stopPropagation&&o.stopPropagation()),l?.setVisible(!0),s?.setText(r||(t?(0,i.hr)(e):(0,i.Wh)(e))),n&&c?.setRoute(n)}:({fn:e})=>e}},773382:function(e,t,r){r.d(t,{Z:()=>a});var n=r(233597);function a(e,t){return r=>r((0,n.U)("BoardSectionResource",{options:{field_set_key:t||"board_page",section_id:e}}))}},148266:function(e,t,r){function n(e){return{type:"PIN_BETTER_SAVE",payload:e}}function a(e){return{type:"PIN_BETTER_SAVE_CUTOUT",payload:e}}function o(e){return{type:"PIN_BETTER_UNSAVE",payload:e}}function i(e){return{type:"PIN_BETTER_UNSAVE_CUTOUT",payload:e}}function l(e){return{type:"PIN_BETTER_SELECT_BOARD_OR_SECTION",payload:e}}function s(e){return{type:"PIN_BETTER_SELECT_BOARD_CUTOUT",payload:e}}function c(e){return{type:"POST_REPIN_MORE_IDEAS_UPSELL_SHOWN",payload:{boardId:e}}}r.d(t,{ND:()=>c,Vp:()=>l,a1:()=>n,b6:()=>s,jg:()=>o,o4:()=>a,ti:()=>i})},826681:function(e,t,r){r.d(t,{Ge:()=>u,JS:()=>i,P_:()=>l,Q_:()=>_,b8:()=>p,cg:()=>s,h2:()=>d,h6:()=>f});var n=r(27399),a=r(47755),o=r(748025);function i(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}let l=(e,t)=>({type:"USER_FOLLOW",payload:{id:e,value:t}}),s=(e,t)=>({type:"USER_FOLLOWING_COUNT",payload:{id:e,following:t}}),c=(e,t)=>({type:"USER_BLOCK",payload:{id:e,value:t}}),u=({id:e,orbacSubjectId:t,blockSource:r,blockContext:n,logContextEvent:o})=>async i=>{i(c(e,!0));let l=await (0,a.Z)({url:"/v3/users/{blocked_user}/block/",urlParams:{blocked_user:e},method:"PUT",data:{orbac_subject_id:t,block_source:r,block_context:n}}).catch(()=>i(c(e,!1)));return o({event_type:54,object_id_str:e}),l},d=(e,t)=>async r=>{r(c(e,!1));let n=await (0,a.Z)({url:"/v3/users/{blocked_user}/block/",urlParams:{blocked_user:e},method:"DELETE"}).catch(()=>r(c(e,!0)));return t({event_type:55,object_id_str:e}),n};function f(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}let _=(e,t)=>()=>n.Z.create("UserStateResource",{state:e,value:t}).callCreate(),p=(e,t,r)=>(n,i)=>{(0,a.Z)({url:"/v3/users/me/",method:"POST"}).then(()=>{r({event_type:48,object_id_str:i().session.userId}),e(),(0,o.Z)()},t)}},395878:function(e,t,r){r.d(t,{Z:()=>h});var n,a=r(686659),o=r(667294);r(167912);var i=r(740097),l=r(943152),s=r(183e3),c=r(24246),u=r(36351),d=r(500602),f=r(785893);let _=(void 0!==n||(n=r(954881)).hash&&"f459445ee8d1ea0db022e490ef5a2e80"!==n.hash&&console.error("The definition of 'SendBoardFlyout_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);class p extends o.Component{constructor(...e){var t,r,n;super(...e),r={flyoutOpen:!1},(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t="state","string"))?n:n+"")in this?Object.defineProperty(this,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[t]=r}render(){let{board:e,bgColor:t="white",children:r,disableSelectedStyle:n,iconColor:a="subtle",onCreatePincode:l,showTooltip:s,size:c="lg"}=this.props,{flyoutOpen:_}=this.state,p={description:e?.description,id:e?.entityId??"",imageUrl:e?.imageCoverUrl,name:e?.name??void 0,type:"board",url:e?.url??void 0},h=e=>{let{requireAuth:t}=this.props;if(t){e&&e.preventDefault(),t();return}this.state.flyoutOpen||this.props.onOpen(),this.setState(e=>({flyoutOpen:!e.flyoutOpen}))},m=r&&r({active:_,onClick:()=>h()})||(0,f.jsx)(i.hU,{ref:this.props.sendBoardButtonRef,accessibilityLabel:this.props.i18n._('Send Board', 'Accessible label for button to send board', 'Accessible label for button to send board'),bgColor:t,dataTestId:"send-board-button-icon",icon:"share",iconColor:a,onClick:({event:e})=>h(e),selected:!n&&_,size:c,tooltip:s?{text:this.props.i18n._('Share board', 'sendBoardFlyout.button.tooltip', 'Tooltip for button to share board')}:void 0});return(0,f.jsxs)(o.Fragment,{children:[(0,f.jsx)(i.xu,{ref:e=>{this.anchor=e},children:m}),this.state.flyoutOpen&&(0,f.jsx)(i.mh,{zIndex:d.m6,children:(0,f.jsx)(i.J2,{anchor:this.anchor,idealDirection:"down",onDismiss:()=>h(),positionRelativeToAnchor:!1,size:"flexible",children:(0,f.jsx)(u.Z,{component:13216,onCreatePincodeClick:l?()=>{h(),l()}:void 0,onHide:()=>h(),sendType:"board",sharedObject:p,viewType:5})})})]})}componentDidMount(){(0,a.Z)("SendBoardFlyout","/app/www/save/board/BoardInfoBar/SendBoardFlyout.tsx")}}let h=e=>{(0,o.useEffect)(()=>{(0,a.Z)("SendBoardFlyout","/app/www/save/board/BoardInfoBar/SendBoardFlyout.tsx")},[]);let t=(0,c.Z)(),r=(0,l.Z)(),n=(0,s.Z)(_,e.boardKey);return(0,f.jsx)(p,{...e,board:n,i18n:t,requireAuth:r,sendBoardButtonRef:e.sendBoardButtonRef})}},235623:function(e,t,r){r.d(t,{Z:()=>g});var n,a=r(686659),o=r(667294);r(244311);var i=r(740097),l=r(230201),s=r(943152),c=r(753806),u=r(183e3),d=r(24246),f=r(774838),_=r(395878),p=r(554365),h=r(785893);let m=(void 0!==n||(n=r(413044)).hash&&"8d95294efe15498023c69669c6a41e71"!==n.hash&&console.error("The definition of 'SendBoardButton_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function g({boardKey:e,color:t,handleCreatePincode:r,iconColor:n,hasBoardToolStyles:g,hasShadow:b,showTooltip:y,disableSelectedStyle:v,size:E="lg"}){(0,o.useEffect)(()=>{(0,a.Z)("SendBoardButton","/app/www/save/board/Headers/BoardHeader/SendBoardButton.tsx")},[]);let{logContextEvent:S}=(0,l.u)(),w=(0,d.Z)(),P=(0,s.Z)(),{userAgent:{platform:x}}=(0,f.B)(),T="android"===x,A=(0,o.useRef)(null),I=(0,u.Z)(m,e),[R,O]=(0,o.useState)(!1),C=R?"lightWash":t;return(0,h.jsxs)(o.Fragment,{children:[(0,h.jsx)(_.Z,{boardKey:I,disableSelectedStyle:v,iconColor:n,onCreatePincode:r,onOpen:()=>{if(P)return void P();(0,p.Z)(S)},sendBoardButtonRef:A,showTooltip:y,size:E,children:g?({active:e,onClick:t})=>(0,h.jsx)(i.iP,{onTap:t,rounding:5,children:(0,h.jsxs)(i.xu,{alignItems:"center",borderStyle:b?"shadow":void 0,color:e?"selected":C,display:"flex",height:64,justifyContent:"center",onMouseEnter:()=>O(!0),onMouseLeave:()=>O(!1),paddingX:4,rounding:5,children:[(0,h.jsx)(i.xu,{marginEnd:2,children:(0,h.jsx)(i.JO,{accessibilityLabel:w._('Share', 'Board.ShareButton', 'Accessible label for button to share a board'),color:e?"light":"default",icon:T?"android-share":"share",size:20})}),(0,h.jsx)(i.xv,{color:e?"inverse":"default",children:w._('Share', 'Board.ShareButton', 'Label for button to share a board')})]})}):void 0}),(0,h.jsx)(c.N,{anchors:{3018:A.current},idealDirection:"down",onAnchorTouch:"complete",placementId:18,scrollToDismiss:!0})]})}},554365:function(e,t,r){function n(e){e({event_type:101,element:10778,component:13216,view_type:5,view_parameter:3069})}r.d(t,{Z:()=>n})},512324:function(e,t,r){r.d(t,{Z:()=>f});var n=r(686659),a=r(667294),o=r(740097),i=r(924591),l=r(24246),s=r(661376),c=r(739405),u=r(785893);function d({ideaPinImages:e}){(0,a.useEffect)(()=>{(0,n.Z)("FollowingToastThumbnail","/app/www/toasts/FollowingToastThumbnail.tsx")},[]);let t=e.map((e,t)=>(0,u.jsx)(o.xu,{borderStyle:"sm",color:"default",dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:t}},height:48,overflow:"hidden",rounding:2,width:28,children:e?.url&&(0,u.jsx)(o.Ee,{alt:"",color:"#696969",fit:"cover",naturalHeight:e?.height??1,naturalWidth:e?.width??1,src:e.url})},t));return(0,u.jsx)(o.kC,{justifyContent:"center",children:(0,u.jsx)(o.kC,{justifyContent:"start",width:{1:28,2:40,3:48}[e.length],children:t})})}function f({handleHide:e,text:t,userId:r,href:f,imageUrl:_}){(0,a.useEffect)(()=>{(0,n.Z)("UserFollowingToast","/app/www/toasts/UserFollowingToast.tsx")},[]);let p=(0,l.Z)(),h=(0,c.HG)(),m=(0,s.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:r}}),g=Array.isArray(t)?t.join(" "):t;if(0===(m.data||[]).length)return(0,u.jsx)(i.Z,{duration:5e3,href:f,onHide:e,text:g,thumbnail:_?{image:(0,u.jsx)(o.Ee,{alt:p._('Image of who you followed', 'userFollowingToast.thumbnail.userImage', 'Profile thumbnail of the user you followed'),fit:"cover",naturalHeight:1,naturalWidth:1,src:_})}:void 0});let b=(m.data||[]).slice(0,3).map(e=>e.images?.[h?"236x":"170x"]),y=(0,u.jsx)(d,{ideaPinImages:b});return(0,u.jsx)(i.Z,{_dangerouslySetThumbnail:y,duration:5e3,href:f,onHide:e,text:g})}},405933:function(e,t,r){r.d(t,{$:()=>y,G:()=>v});var n=r(686659),a=r(667294),o=r(422578),i=r(312048),l=r(244311),s=r(501010),c=r(774838);function u(e){let t={result:{kind:"Pending",promise:e},read:()=>(function(e){let{result:t}=e;switch(t.kind){case"Pending":throw t.promise;case"Ok":return t.value;case"Err":throw t.error;default:throw Error("Unexpected case")}})(t)};return e.then(e=>{t.result={kind:"Ok",value:e}}).catch(e=>{t.result={kind:"Err",error:e}}),t}function d(e){return{result:{kind:"Ok",value:e},read:()=>e}}var f=r(362777),_=r(335562),p=r(767415),h=r(785893);let m=(0,a.createContext)(null),g=/(^\/)|:|(\/$)/g,b=/\//g,y=({children:e})=>{(0,a.useEffect)(()=>{(0,n.Z)("EntrypointContext","/pws/entrypoint-router/EntrypointContext.tsx")},[]);let t=(0,o.useRelayEnvironment)(),{checkExperiment:r}=(0,s.Z)(),l=(0,c.B)(),u=(0,a.useRef)({}),d=(0,a.useCallback)(e=>{let{rootComponent:n,loadedValueState:a}=S(E(u.current,e),e,"Both",t,r,l);return"NotYetRendered"===a.performanceLoggingState.kind&&(a.performanceLoggingState={kind:"InitiallyRendered",initialRenderTime:Date.now()}),{rootComponent:n,onEntrypointDataLoaded:t=>{if("InitiallyRendered"===a.performanceLoggingState.kind){let r=Date.now();(0,p.LY)("entrypointRouter.routeTiming."+e.kind.replace(g,"").replace(b,"_"),r-a.performanceLoggingState.initialRenderTime,{sampleRate:.1,tags:t??{}}),a.performanceLoggingState={kind:"Complete"}}},loadedValue:a.loadedValue}},[r,t,l]),_=(0,i.s0)(),y=(0,a.useCallback)(e=>{S(E(u.current,e),e,"Both",t,r,l),_((0,f.w)(e))},[_,r,t,l]),v=(0,a.useCallback)((e,n)=>{let a=E(u.current,e);"Both"===n&&S(a,e,n,t,r,l)},[r,t,l]),w=(0,a.useMemo)(()=>({loadAndReadDuringRender__INTERNAL:d,preload:v,imperativelyNavigate:y}),[d,y,v]);return(0,h.jsx)(m,{value:w,children:e})};function v(){let e=(0,a.use)(m);if(null==e)throw Error("Missing entrypoint context");return e}function E(e,t){let r=f.Z[t.kind];if(null==r)throw Error("Unexpected missing route! Did you define it in routeMap.ts?");let n=r.loader();return e[t.kind]??={rootComponent:u(r.rootComponent()),loadedValueStates:{},loader:(0,l.isPromise)(n)?u(n):d(n)}}function S(e,t,r,n,a,o){var i;let l=JSON.stringify((0,_.Z)(t.routeParams)),{loadedValueStates:s,rootComponent:c,loader:f}=e;return{rootComponent:c,loadedValueState:s[l]??=(i=t.kind,setTimeout(()=>{let e=s[l];null!=e&&(0,p.nP)("entrypointRouter.entrypointUse",{sampleRate:.1,tags:{routeName:i,usedInTime:"NotYetRendered"!==e.performanceLoggingState.kind}})},3e4),{loadedValue:function(e,t){let{result:r}=e;switch(r.kind){case"Pending":return u(r.promise.then(t));case"Ok":return d(t(r.value));case"Err":var n;return{result:{kind:"Err",error:n=r.error},read:()=>{throw n}};default:throw Error("Unexpected case")}}(f,e=>e({routeParams:t.routeParams,relayEnvironment:n,checkExperiment:a,requestContext:o})),performanceLoggingState:{kind:"NotYetRendered"}})}}},362777:function(e,t,r){r.d(t,{w:()=>o,Z:()=>a});var n=r(312048);let a={"/collage-creation-tool":{loader:()=>Promise.all([r.e("8126"),r.e("50444")]).then(r.bind(r,231718)).then(e=>e.default),rootComponent:()=>Promise.all([r.e("39366"),r.e("25418"),r.e("19007"),r.e("73269"),r.e("57207"),r.e("8126"),r.e("10452"),r.e("73710"),r.e("44768"),r.e("76201")]).then(r.bind(r,406031)).then(e=>e.default)},"/comparison/results":{loader:()=>r.e("77087").then(r.bind(r,531297)).then(e=>e.default),rootComponent:()=>Promise.all([r.e("39366"),r.e("25418"),r.e("6201"),r.e("95649"),r.e("69519")]).then(r.bind(r,851347)).then(e=>e.default)},"/comparison/select/:id":{loader:()=>r.e("9490").then(r.bind(r,851605)).then(e=>e.default),rootComponent:()=>Promise.all([r.e("39366"),r.e("25418"),r.e("6201"),r.e("95649"),r.e("90634")]).then(r.bind(r,838119)).then(e=>e.default)},"/ideas":{loader:()=>Promise.all([r.e("25418"),r.e("996")]).then(r.bind(r,890450)).then(e=>e.default),rootComponent:()=>Promise.all([r.e("39366"),r.e("25418"),r.e("98246"),r.e("47336")]).then(r.bind(r,691202)).then(e=>e.default)},"/pin/:id/analytics":{loader:()=>r.e("62315").then(r.bind(r,308821)).then(e=>e.default),rootComponent:()=>Promise.all([r.e("39366"),r.e("25418"),r.e("15417"),r.e("16868"),r.e("13305"),r.e("54960"),r.e("66387"),r.e("38477"),r.e("54097"),r.e("16829")]).then(r.bind(r,234936)).then(e=>e.default)},"/today/":{loader:()=>r.e("42207").then(r.bind(r,415466)).then(e=>e.default),rootComponent:()=>Promise.all([r.e("39366"),r.e("25418"),r.e("91678")]).then(r.bind(r,352067)).then(e=>e.default)}};function o(e){return(0,n.Gn)(e.kind,e.routeParams)}},335562:function(e,t,r){r.d(t,{Z:()=>function e(t){if(!t||"object"!=typeof t)return t;if(Array.isArray(t))return t.map(e);let r=Object.keys(t).sort(),n={};for(let a=0;a<r.length;a++)n[r[a]]=e(t[r[a]]);return n}})},653015:function(e,t,r){r.d(t,{Z:()=>a,u:()=>n});let n="HIDDEN_ON_SERVER_ERROR",a=e=>e instanceof Object&&"message"in e&&"string"==typeof e.message&&e.message.includes(n)},109571:function(e,t,r){r.d(t,{I:()=>i,t:()=>o});var n=r(667294),a=r(312048);let o=(0,n.createContext)(null);function i(){return(0,a.TH)()===(0,n.use)(o)}},305375:function(e,t,r){r.d(t,{Z:()=>i});var n=r(616550),a=r(312048),o=r(501010);function i(){return((0,o.Z)().checkExperiment("web_react_router_v6").anyEnabled?a.UO:n.UO)()}},216019:function(e,t,r){function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}r.d(t,{Z:()=>n})},535091:function(e,t,r){function n(e,t){return(n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n(e,t)}r.d(t,{Z:()=>a})},70443:function(e,t,r){function n(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}r.d(t,{Z:()=>n})},121835:function(e,t,r){r.d(t,{Z:()=>n});function n(e,t){if(!e)throw Error("Invariant failed")}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/33558-3362c69b0cbe432f.mjs.map